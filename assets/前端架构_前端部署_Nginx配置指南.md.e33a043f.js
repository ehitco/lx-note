import{_ as a,o as e,c as s,a as n}from"./app.aec7eb12.js";const _=JSON.parse('{"title":"Nginx\u914D\u7F6E\u6307\u5357","description":"","frontmatter":{},"headers":[{"level":2,"title":"root \u4E0E index","slug":"root-\u4E0E-index","link":"#root-\u4E0E-index","children":[]},{"level":2,"title":"location","slug":"location","link":"#location","children":[]},{"level":2,"title":"proxy_pass","slug":"proxy-pass","link":"#proxy-pass","children":[]},{"level":2,"title":"add_header","slug":"add-header","link":"#add-header","children":[{"level":3,"title":"Cache","slug":"cache","link":"#cache","children":[]},{"level":3,"title":"CORS","slug":"cors","link":"#cors","children":[]},{"level":3,"title":"HSTS","slug":"hsts","link":"#hsts","children":[]},{"level":3,"title":"CSP","slug":"csp","link":"#csp","children":[]}]}],"relativePath":"\u524D\u7AEF\u67B6\u6784/\u524D\u7AEF\u90E8\u7F72/Nginx\u914D\u7F6E\u6307\u5357.md","lastUpdated":1670483514000}'),l={name:"\u524D\u7AEF\u67B6\u6784/\u524D\u7AEF\u90E8\u7F72/Nginx\u914D\u7F6E\u6307\u5357.md"},o=n(`<h1 id="nginx\u914D\u7F6E\u6307\u5357" tabindex="-1">Nginx\u914D\u7F6E\u6307\u5357 <a class="header-anchor" href="#nginx\u914D\u7F6E\u6307\u5357" aria-hidden="true">#</a></h1><blockquote><p><a href="https://github.com/Merlin218/simple-deploy/tree/master/learn-nginx" target="_blank" rel="noreferrer">demo\u5730\u5740</a></p></blockquote><h2 id="root-\u4E0E-index" tabindex="-1">root \u4E0E index <a class="header-anchor" href="#root-\u4E0E-index" aria-hidden="true">#</a></h2><ul><li><code>root</code>: \u9759\u6001\u8D44\u6E90\u7684\u6839\u8DEF\u5F84\u3002\u89C1\u6587\u6863\xA0<a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#root" target="_blank" rel="noreferrer">https://nginx.org/en/docs/http/ngx_http_core_module.html#root(opens new window)</a></li><li><code>index</code>: \u5F53\u8BF7\u6C42\u8DEF\u5F84\u4EE5\xA0<code>/</code>\xA0\u7ED3\u5C3E\u65F6\uFF0C\u5219\u81EA\u52A8\u5BFB\u627E\u8BE5\u8DEF\u5F84\u4E0B\u7684 index \u6587\u4EF6\u3002\u89C1\u6587\u6863\xA0<a href="https://nginx.org/en/docs/http/ngx_http_index_module.html#index" target="_blank" rel="noreferrer">https://nginx.org/en/docs/http/ngx_http_index_module.html#index(opens new window)</a></li></ul><p><code>root</code>\xA0\u4E0E\xA0<code>index</code>\xA0\u4E3A\u524D\u7AEF\u90E8\u7F72\u7684\u57FA\u7840\uFF0C\u5728\u9ED8\u8BA4\u60C5\u51B5\u4E0B root \u4E3A\xA0<code>/usr/share/nginx/html</code>\uFF0C\u56E0\u6B64\u6211\u4EEC\u90E8\u7F72\u524D\u7AEF\u65F6\uFF0C\u5F80\u5F80\u5C06\u6784\u5EFA\u540E\u7684\u9759\u6001\u8D44\u6E90\u76EE\u5F55\u6302\u8F7D\u5230\u8BE5\u5730\u5740\u3002</p><h2 id="location" tabindex="-1">location <a class="header-anchor" href="#location" aria-hidden="true">#</a></h2><p>location \u7528\u4EE5\u5339\u914D\u8DEF\u7531\uFF0C\u914D\u7F6E\u8BED\u6CD5\u5982\u4E0B\u3002</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">location [ = | ~ | ~* | ^~ ] uri { ... }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5176\u4E2D\xA0<code>uri</code>\xA0\u524D\u53EF\u63D0\u4F9B\u4EE5\u4E0B\u4FEE\u9970\u7B26</p><ul><li><code>=</code>\xA0\u7CBE\u786E\u5339\u914D\u3002\u4F18\u5148\u7EA7\u6700\u9AD8</li><li><code>^~</code>\xA0\u524D\u7F00\u5339\u914D\uFF0C\u4F18\u5148\u7EA7\u5176\u6B21</li><li><code>~</code>\xA0\u6B63\u5219\u5339\u914D\uFF0C\u4F18\u5148\u7EA7\u518D\u6B21 (~* \u53EA\u662F\u4E0D\u533A\u5206\u5927\u5C0F\u5199\uFF0C\u4E0D\u5355\u5217)</li><li><code>/</code>\xA0\u901A\u7528\u5339\u914D\uFF0C\u4F18\u5148\u7EA7\u518D\u6B21</li></ul><h2 id="proxy-pass" tabindex="-1">proxy_pass <a class="header-anchor" href="#proxy-pass" aria-hidden="true">#</a></h2><p><code>proxy_pass</code>\xA0\u53CD\u5411\u4EE3\u7406\uFF0C\u4E5F\u662F nginx \u6700\u91CD\u8981\u7684\u5185\u5BB9\uFF0C\u8FD9\u4E5F\u662F\u5E38\u7528\u7684\u89E3\u51B3\u8DE8\u57DF\u7684\u95EE\u9898\u3002</p><p>\u5F53\u4F7F\u7528\xA0<code>proxy_pass</code>\xA0\u4EE3\u7406\u8DEF\u5F84\u65F6\uFF0C\u6709\u4E24\u79CD\u60C5\u51B5</p><ol><li>\u4EE3\u7406\u670D\u52A1\u5668\u5730\u5740\u4E0D\u542B URI\uFF0C\u5219\u6B64\u65F6\u5BA2\u6237\u7AEF\u8BF7\u6C42\u8DEF\u5F84\u4E0E\u4EE3\u7406\u670D\u52A1\u5668\u8DEF\u5F84\u76F8\u540C\u3002<strong>\u5F3A\u70C8\u5EFA\u8BAE\u8FD9\u79CD\u65B9\u5F0F</strong></li><li>\u4EE3\u7406\u670D\u52A1\u5668\u5730\u5740\u542B URI\uFF0C\u5219\u6B64\u65F6\u5BA2\u6237\u7AEF\u8BF7\u6C42\u8DEF\u5F84\u5339\u914D location\uFF0C\u5E76\u5C06\u5176 location \u540E\u7684\u8DEF\u5F84\u9644\u5728\u4EE3\u7406\u670D\u52A1\u5668\u5730\u5740\u540E\u3002</li></ol><h2 id="add-header" tabindex="-1">add_header <a class="header-anchor" href="#add-header" aria-hidden="true">#</a></h2><p>\u63A7\u5236\u54CD\u5E94\u5934\u3002</p><p>\u7531\u4E8E\u5F88\u591A\u7279\u6027\u90FD\u662F\u901A\u8FC7\u54CD\u5E94\u5934\u63A7\u5236\uFF0C\u56E0\u6B64\u57FA\u4E8E\u6B64\u6307\u4EE4\u53EF\u505A\u5F88\u591A\u4E8B\u60C5\uFF0C\u6BD4\u5982:</p><ol><li>Cache</li><li>CORS</li><li>HSTS</li><li>CSP</li><li>...</li></ol><h3 id="cache" tabindex="-1">Cache <a class="header-anchor" href="#cache" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">location /static {</span></span>
<span class="line"><span style="color:#A6ACCD;">    add_header Cache-Control max-age=31536000;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="cors" tabindex="-1">CORS <a class="header-anchor" href="#cors" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">location /api {</span></span>
<span class="line"><span style="color:#A6ACCD;">    add_header Access-Control-Allow-Origin *;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="hsts" tabindex="-1">HSTS <a class="header-anchor" href="#hsts" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">location / {</span></span>
<span class="line"><span style="color:#A6ACCD;">    listen 443 ssl;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    add_header Strict-Transport-Security max-age=7200;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="csp" tabindex="-1">CSP <a class="header-anchor" href="#csp" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">location / {</span></span>
<span class="line"><span style="color:#A6ACCD;">    add_header Content-Security-Policy &quot;default-src &#39;self&#39;;&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,26),t=[o];function i(c,r,p,d,h,C){return e(),s("div",null,t)}const g=a(l,[["render",i]]);export{_ as __pageData,g as default};

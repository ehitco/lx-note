import{_ as s,o as n,c as a,a as l}from"./app.aec7eb12.js";const i=JSON.parse('{"title":"Javascript\u81EA\u5B9A\u4E49\u4E8B\u4EF6Event()\u4E0ECustomEvent()","description":"","frontmatter":{},"headers":[],"relativePath":"\u524D\u7AEF\u57FA\u7840/JavaScript/\u81EA\u5B9A\u4E49\u4E8B\u4EF6event.md","lastUpdated":1670483514000}'),p={name:"\u524D\u7AEF\u57FA\u7840/JavaScript/\u81EA\u5B9A\u4E49\u4E8B\u4EF6event.md"},o=l(`<h1 id="javascript\u81EA\u5B9A\u4E49\u4E8B\u4EF6event-\u4E0Ecustomevent" tabindex="-1">Javascript\u81EA\u5B9A\u4E49\u4E8B\u4EF6Event()\u4E0ECustomEvent() <a class="header-anchor" href="#javascript\u81EA\u5B9A\u4E49\u4E8B\u4EF6event-\u4E0Ecustomevent" aria-hidden="true">#</a></h1><hr><p>1.CustomEvent\u6784\u9020\u51FD\u6570\uFF08\u4E8B\u4EF6\u662F\u7531\u7A0B\u5E8F\u521B\u5EFA\u7684\uFF0C\u53EF\u4EE5\u6709\u4EFB\u610F\u81EA\u5B9A\u4E49\u529F\u80FD\u7684\u4E8B\u4EF6\uFF0C\u6B64\u7279\u6027\u5728 Web Worker \u4E2D\u53EF\u7528\uFF09</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CustomEvent</span><span style="color:#A6ACCD;">(typeArg</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">customEventInit)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><strong>typeArg:\u4E00\u4E2A\u8868\u793Aevent\u540D\u5B57\u7684\u5B57\u7B26\u4E32</strong><br><strong>customEventInit\uFF1A\uFF08\u53EF\u9009\uFF09\u4E00\u4E2A\u5B57\u5178\u7C7B\u578B\u53C2\u6570\uFF0C\u6709\u5982\u4E0B\u5B57\u6BB5\uFF1A</strong></p><ul><li>detail:\u53EF\u9009\u7684\u9ED8\u8BA4\u503C\u662F null \u7684\u4EFB\u610F\u7C7B\u578B\u6570\u636E\uFF0C\u662F\u4E00\u4E2A\u4E0E event \u76F8\u5173\u7684\u503C\uFF08\u5411\u4E8B\u4EF6\u5BF9\u8C61\u6DFB\u52A0\u66F4\u591A\u6570\u636E\uFF09</li><li>bubbles:\u4E00\u4E2A\u5E03\u5C14\u503C\uFF0C\u8868\u793A\u8BE5\u4E8B\u4EF6\u80FD\u5426\u5192\u6CE1\u3002\u6CE8\u610F\uFF1A\u6D4B\u8BD5chrome\u9ED8\u8BA4\u4E3A\u4E0D\u5192\u6CE1\u3002</li><li>cancelable:\u4E00\u4E2A\u5E03\u5C14\u503C\uFF0C\u8868\u793A\u8BE5\u4E8B\u4EF6\u662F\u5426\u53EF\u4EE5\u53D6\u6D88\u3002</li></ul><p><em>CustomerEventInit \u5B57\u5178\u53C2\u6570\u540C\u6837\u63A5\u53D7\u6765\u81EA\u4E8E Event \u7C7B\u6784\u9020\u51FD\u6570\u7684 eventInit \u5B57\u5178\u53C2\u6570bubbles\u548Ccancelable</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// add an appropriate event listener</span></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">process</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// create and dispatch the event</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> event </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CustomEvent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">detail</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">hazcheeseburger</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dispatchEvent</span><span style="color:#A6ACCD;">(event)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>2.Event()\u6784\u9020\u51FD\u6570</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Event</span><span style="color:#A6ACCD;">(typeArg[</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> eventInit])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><strong>typeArg\uFF1A\u662FDOMString \u7C7B\u578B\uFF0C\u8868\u793A\u6240\u521B\u5EFA\u4E8B\u4EF6\u7684\u540D\u79F0\u3002</strong><br><strong>eventInit\uFF1A\uFF08\u53EF\u9009\uFF09\u662F EventInit \u7C7B\u578B\u7684\u5B57\u5178\uFF0C\u63A5\u53D7\u4EE5\u4E0B\u5B57\u6BB5:</strong></p><ul><li>&quot;bubbles&quot;\uFF0C\u53EF\u9009\uFF0CBoolean\u7C7B\u578B\uFF0C\u9ED8\u8BA4\u503C\u4E3A false\uFF0C\u8868\u793A\u8BE5\u4E8B\u4EF6\u662F\u5426\u5192\u6CE1\u3002</li><li>&quot;cancelable&quot;\uFF0C\u53EF\u9009\uFF0CBoolean\u7C7B\u578B\uFF0C\u9ED8\u8BA4\u503C\u4E3A false\uFF0C \u8868\u793A\u8BE5\u4E8B\u4EF6\u80FD\u5426\u88AB\u53D6\u6D88\u3002</li><li>&quot;composed&quot;\uFF0C\u53EF\u9009\uFF0CBoolean\u7C7B\u578B\uFF0C\u9ED8\u8BA4\u503C\u4E3A false\uFF0C\u6307\u793A\u4E8B\u4EF6\u662F\u5426\u4F1A\u5728\u5F71\u5B50DOM\u6839\u8282\u70B9\u4E4B\u5916\u89E6\u53D1\u4FA6\u542C\u5668\u3002</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// create a look event that bubbles up and cannot be canceled</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> evt </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Event</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">look</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">bubbles</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">cancelable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dispatchEvent</span><span style="color:#A6ACCD;">(evt)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// event can be dispatched from any element, not only the document</span></span>
<span class="line"><span style="color:#A6ACCD;">myDiv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dispatchEvent</span><span style="color:#A6ACCD;">(evt)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>3.createEvent\uFF08\u88AB\u5E9F\u5F03\u6389\u4E86\uFF09</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// Create the event.(\u88AB\u5E9F\u5F03\u6389\u4E86)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> event </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createEvent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Event</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// Create a click event that bubbles up and</span></span>
<span class="line"><span style="color:#676E95;">// cannot be canceled </span></span>
<span class="line"><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">initEvent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// Listen for the event.</span></span>
<span class="line"><span style="color:#A6ACCD;">elem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// e.target matches elem</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">elem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dispatchEvent</span><span style="color:#A6ACCD;">(event)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,15),e=[o];function t(c,r,D,y,F,A){return n(),a("div",null,e)}const v=s(p,[["render",t]]);export{i as __pageData,v as default};

import{_ as s,o as a,c as n,a as l}from"./app.aec7eb12.js";const d=JSON.parse('{"title":"Webpack\u57FA\u7840","description":"","frontmatter":{},"headers":[{"level":2,"title":"1\u3001webpack \u662F\u4EC0\u4E48","slug":"_1\u3001webpack-\u662F\u4EC0\u4E48","link":"#_1\u3001webpack-\u662F\u4EC0\u4E48","children":[]},{"level":2,"title":"2\u3001\u5B89\u88C5","slug":"_2\u3001\u5B89\u88C5","link":"#_2\u3001\u5B89\u88C5","children":[]},{"level":2,"title":"3\u3001\u4F7F\u7528","slug":"_3\u3001\u4F7F\u7528","link":"#_3\u3001\u4F7F\u7528","children":[]},{"level":2,"title":"4\u3001\u6253\u5305\u6A21\u5757","slug":"_4\u3001\u6253\u5305\u6A21\u5757","link":"#_4\u3001\u6253\u5305\u6A21\u5757","children":[{"level":3,"title":"4-1\u3001\u5165\u53E3\u6587\u4EF6","slug":"_4-1\u3001\u5165\u53E3\u6587\u4EF6","link":"#_4-1\u3001\u5165\u53E3\u6587\u4EF6","children":[]},{"level":3,"title":"4-2\u3001\u6253\u5305\u547D\u4EE4","slug":"_4-2\u3001\u6253\u5305\u547D\u4EE4","link":"#_4-2\u3001\u6253\u5305\u547D\u4EE4","children":[]}]},{"level":2,"title":"5\u3001\u6253\u5305\u914D\u7F6E","slug":"_5\u3001\u6253\u5305\u914D\u7F6E","link":"#_5\u3001\u6253\u5305\u914D\u7F6E","children":[{"level":3,"title":"5-1\u3001mode","slug":"_5-1\u3001mode","link":"#_5-1\u3001mode","children":[]},{"level":3,"title":"5-2\u3001entry","slug":"_5-2\u3001entry","link":"#_5-2\u3001entry","children":[]},{"level":3,"title":"5-3\u3001output","slug":"_5-3\u3001output","link":"#_5-3\u3001output","children":[]}]},{"level":2,"title":"6\u3001\u6DF1\u5165","slug":"_6\u3001\u6DF1\u5165","link":"#_6\u3001\u6DF1\u5165","children":[{"level":3,"title":"6-1\u3001\u6267\u884C\u7B80\u8981\u6D41\u7A0B","slug":"_6-1\u3001\u6267\u884C\u7B80\u8981\u6D41\u7A0B","link":"#_6-1\u3001\u6267\u884C\u7B80\u8981\u6D41\u7A0B","children":[]}]},{"level":2,"title":"7\u3001Loaders","slug":"_7\u3001loaders","link":"#_7\u3001loaders","children":[{"level":3,"title":"7-1\u3001raw-loader","slug":"_7-1\u3001raw-loader","link":"#_7-1\u3001raw-loader","children":[]},{"level":3,"title":"7-2\u3001\u56FE\u7247\u8D44\u6E90\u5904\u7406","slug":"_7-2\u3001\u56FE\u7247\u8D44\u6E90\u5904\u7406","link":"#_7-2\u3001\u56FE\u7247\u8D44\u6E90\u5904\u7406","children":[]},{"level":3,"title":"7-3\u3001css-loader","slug":"_7-3\u3001css-loader","link":"#_7-3\u3001css-loader","children":[]},{"level":3,"title":"7-4\u3001style-loader","slug":"_7-4\u3001style-loader","link":"#_7-4\u3001style-loader","children":[]},{"level":3,"title":"7-5\u3001postcss-loader","slug":"_7-5\u3001postcss-loader","link":"#_7-5\u3001postcss-loader","children":[]},{"level":3,"title":"7.6\u3001less-loader\u6216sass-loader","slug":"_7-6\u3001less-loader\u6216sass-loader","link":"#_7-6\u3001less-loader\u6216sass-loader","children":[]},{"level":3,"title":"7.7\u3001babel-loader","slug":"_7-7\u3001babel-loader","link":"#_7-7\u3001babel-loader","children":[]},{"level":3,"title":"7.8\u3001vue-loader","slug":"_7-8\u3001vue-loader","link":"#_7-8\u3001vue-loader","children":[]}]},{"level":2,"title":"8\u3001Plugins","slug":"_8\u3001plugins","link":"#_8\u3001plugins","children":[{"level":3,"title":"8-1\u3001HtmlWebpackPlugin","slug":"_8-1\u3001htmlwebpackplugin","link":"#_8-1\u3001htmlwebpackplugin","children":[]},{"level":3,"title":"8-2\u3001clean-webpack-plugin","slug":"_8-2\u3001clean-webpack-plugin","link":"#_8-2\u3001clean-webpack-plugin","children":[]},{"level":3,"title":"8-3\u3001mini-css-extract-plugin","slug":"_8-3\u3001mini-css-extract-plugin","link":"#_8-3\u3001mini-css-extract-plugin","children":[]}]},{"level":2,"title":"9\u3001WebpackDevServer","slug":"_9\u3001webpackdevserver","link":"#_9\u3001webpackdevserver","children":[{"level":3,"title":"9-1\u3001Proxy","slug":"_9-1\u3001proxy","link":"#_9-1\u3001proxy","children":[]},{"level":3,"title":"9 - 2\u3001Hot Module Replacement","slug":"_9-2\u3001hot-module-replacement","link":"#_9-2\u3001hot-module-replacement","children":[]}]},{"level":2,"title":"10\u3001sourceMap","slug":"_10\u3001sourcemap","link":"#_10\u3001sourcemap","children":[{"level":3,"title":"\u914D\u7F6E\u9879\u5DEE\u5F02","slug":"\u914D\u7F6E\u9879\u5DEE\u5F02","link":"#\u914D\u7F6E\u9879\u5DEE\u5F02","children":[]}]},{"level":2,"title":"11\u3001Code Spliting","slug":"_11\u3001code-spliting","link":"#_11\u3001code-spliting","children":[{"level":3,"title":"11-1\u3001\u5165\u53E3\u8D77\u70B9","slug":"_11-1\u3001\u5165\u53E3\u8D77\u70B9","link":"#_11-1\u3001\u5165\u53E3\u8D77\u70B9","children":[]},{"level":3,"title":"11-2\u3001\u9632\u6B62\u91CD\u590D","slug":"_11-2\u3001\u9632\u6B62\u91CD\u590D","link":"#_11-2\u3001\u9632\u6B62\u91CD\u590D","children":[]},{"level":3,"title":"11 - 2 - 1\u3001SplitChunksPlugin","slug":"_11-2-1\u3001splitchunksplugin","link":"#_11-2-1\u3001splitchunksplugin","children":[]},{"level":3,"title":"11 - 3\u3001\u52A8\u6001\u5BFC\u5165","slug":"_11-3\u3001\u52A8\u6001\u5BFC\u5165","link":"#_11-3\u3001\u52A8\u6001\u5BFC\u5165","children":[]}]},{"level":2,"title":"12\u3001\u9884\u52A0\u8F7D/\u9884\u83B7\u53D6","slug":"_12\u3001\u9884\u52A0\u8F7D-\u9884\u83B7\u53D6","link":"#_12\u3001\u9884\u52A0\u8F7D-\u9884\u83B7\u53D6","children":[]},{"level":2,"title":"13\u3001\u5916\u90E8\u6269\u5C55","slug":"_13\u3001\u5916\u90E8\u6269\u5C55","link":"#_13\u3001\u5916\u90E8\u6269\u5C55","children":[]},{"level":2,"title":"14\u3001tree shaking","slug":"_14\u3001tree-shaking","link":"#_14\u3001tree-shaking","children":[]}],"relativePath":"\u524D\u7AEF\u67B6\u6784/\u524D\u7AEF\u5DE5\u7A0B\u5316/webpack\u57FA\u7840.md","lastUpdated":1670483514000}'),p={name:"\u524D\u7AEF\u67B6\u6784/\u524D\u7AEF\u5DE5\u7A0B\u5316/webpack\u57FA\u7840.md"},o=l(`<h1 id="webpack\u57FA\u7840" tabindex="-1">Webpack\u57FA\u7840 <a class="header-anchor" href="#webpack\u57FA\u7840" aria-hidden="true">#</a></h1><h2 id="_1\u3001webpack-\u662F\u4EC0\u4E48" tabindex="-1">1\u3001webpack \u662F\u4EC0\u4E48 <a class="header-anchor" href="#_1\u3001webpack-\u662F\u4EC0\u4E48" aria-hidden="true">#</a></h2><ul><li>\u5B98\u2F45\u65B9\u2F79\u7F51\u7AD9:<a href="https://webpack.js.org/" target="_blank" rel="noreferrer">https://webpack.js.org/</a></li><li>\u4E2D\u2F42\u6587\u2F79\u7F51\u7AD9:<a href="https://www.webpackjs.com/" target="_blank" rel="noreferrer">https://www.webpackjs.com/</a></li></ul><p>\u672C\u8D28\u4E0A\uFF0C<code>webpack</code> \u662F\u4E00\u4E2A\u73B0\u4EE3 <code>JavaScript</code> \u5E94\u7528\u7A0B\u5E8F\u7684\u9759\u6001\u6A21\u5757\u6253\u5305\u5668(module bundler)\u3002\u5F53 webpack \u5904\u7406\u5E94\u7528\u7A0B\u5E8F\u65F6\uFF0C\u5B83\u4F1A\u9012\u5F52\u5730\u6784\u5EFA\u4E00\u4E2A\u4F9D\u8D56\u5173\u7CFB\u56FE(dependency graph)\uFF0C\u5176\u4E2D\u5305\u542B\u5E94\u7528\u7A0B\u5E8F\u9700\u8981\u7684\u6BCF\u4E2A\u6A21\u5757\uFF0C\u7136\u540E\u5C06\u6240\u6709\u8FD9\u4E9B\u6A21\u5757\u6253\u5305\u6210\u4E00\u4E2A\u6216\u591A\u4E2A bundle\u3002</p><h2 id="_2\u3001\u5B89\u88C5" tabindex="-1">2\u3001\u5B89\u88C5 <a class="header-anchor" href="#_2\u3001\u5B89\u88C5" aria-hidden="true">#</a></h2><p><code>webpack</code> \u662F\u4E00\u4E2A\u4F7F\u7528 <code>Node.js</code> \u5B9E\u73B0\u7684\u4E00\u4E2A\u6A21\u5757\u5316\u4EE3\u7801\u6253\u5305\u5DE5\u5177\u3002\u6240\u4EE5\uFF0C\u6211\u4EEC\u9700\u8981\u5148\u5B89\u88C5 webpack\uFF0C\u5B89\u88C5\u4E4B\u524D\u9700\u8981\u642D\u5EFA\u597D <code>Node.js</code> \u73AF\u5883</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0 npm install -D webpack webpack-cli</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p>\u6CE8\uFF1A\u4E0D\u63A8\u8350\u5168\u5C40\u5B89\u88C5</p></blockquote><ul><li><code>webpack-cli</code> : \u63D0\u4F9B webpack \u547D\u4EE4\u3001\u5DE5\u5177\uFF0C\u7C7B\u4F3C <code>create-react-app</code></li><li><code>webpack</code> : webpack \u4EE3\u7801\uFF0C\u7C7B\u4F3C <code>react</code></li></ul><h2 id="_3\u3001\u4F7F\u7528" tabindex="-1">3\u3001\u4F7F\u7528 <a class="header-anchor" href="#_3\u3001\u4F7F\u7528" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0./node_modules/.bin/webpack</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0// \u67E5\u770B\u7248\u672C</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0./node_modules/.bin/webpack -v</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u4E5F\u53EF\u4EE5\u7F16\u8F91 <code>package.json</code> \u7684 <code>scripts</code> \u6765\u7B80\u5316\u8F93\u5165</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0// package.json</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  &quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">	\xA0// scripts \u4E2D\u53EF\u4EE5\u5B9A\u4F4D\u5230 ./node_modules/.bin/ \u76EE\u5F55\u4E0B</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    &quot;start&quot;: &quot;webpack&quot;  </span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p>scripts \u4E2D\u4F7F\u7528 test\u3001start\u3001restart\u3001stop \u547D\u540D\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u5728\u8C03\u7528\u7684\u65F6\u5019\u7701\u7565 run\uFF0C\u5373\u76F4\u63A5 npm start</p></blockquote><p>\u5F53\u7136\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u7528\u66F4\u52A0\u65B9\u4FBF\u7684\u65B9\u5F0F\uFF1A</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npx webpack</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u901A\u8FC7 <code>npx</code> \u4E5F\u53EF\u4EE5\u5E2E\u52A9\u6211\u4EEC\u5B9A\u4F4D\u547D\u4EE4\u5230 <code>./node_modules/.bin/</code> \u76EE\u5F55\u4E0B</p><blockquote><p>\u6CE8\uFF1Anpm5.2+ \u589E\u52A0\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u53EF\u4EE5\u4F7F\u7528 npm i -g npx \u6765\u5B89\u88C5</p></blockquote><h2 id="_4\u3001\u6253\u5305\u6A21\u5757" tabindex="-1">4\u3001\u6253\u5305\u6A21\u5757 <a class="header-anchor" href="#_4\u3001\u6253\u5305\u6A21\u5757" aria-hidden="true">#</a></h2><p>\u6253\u5305\u4E4B\u524D\uFF0C\u6211\u4EEC\u9700\u8981\u4E86\u89E3\u4E00\u4E2A\u6982\u5FF5\uFF0C\u5165\u53E3\u6587\u4EF6</p><h3 id="_4-1\u3001\u5165\u53E3\u6587\u4EF6" tabindex="-1">4-1\u3001\u5165\u53E3\u6587\u4EF6 <a class="header-anchor" href="#_4-1\u3001\u5165\u53E3\u6587\u4EF6" aria-hidden="true">#</a></h3><p>\u5165\u53E3\u6587\u4EF6\u5C31\u662F\u6211\u4EEC\u9879\u76EE\u4E2D\u52A0\u8F7D\u7684\u7B2C\u4E00\u4E2A\u6587\u4EF6\uFF0C\u6BD4\u5982\u4E0A\u9762\u7684 <code>main.js</code> \u6587\u4EF6\uFF0C\u5176\u5B83\u6587\u4EF6\u90FD\u662F\u901A\u8FC7 <code>import</code> \u7B49\u65B9\u5F0F\u5F15\u5165\u7684\uFF0C<code>webpack</code> \u4F1A\u4ECE\u6211\u4EEC\u6307\u5B9A\u7684\u5165\u53E3\u6587\u4EF6\u5F00\u59CB\u5206\u6790\u6240\u6709\u9700\u8981\u4F9D\u8D56\u7684\u6587\u4EF6\uFF0C\u7136\u540E\u628A\u6253\u5305\u6210\u4E00\u4E2A\u5B8C\u6574\u6587\u4EF6\u3002</p><h3 id="_4-2\u3001\u6253\u5305\u547D\u4EE4" tabindex="-1">4-2\u3001\u6253\u5305\u547D\u4EE4 <a class="header-anchor" href="#_4-2\u3001\u6253\u5305\u547D\u4EE4" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0webpack ./js/index.js</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u4E0A\u9762\u547D\u4EE4\u4F1A\u4F7F\u7528 <code>webpack</code> \u9ED8\u8BA4\u7684\u4E00\u4E9B\u914D\u7F6E\u5BF9\u6A21\u5757\u6587\u4EF6\u8FDB\u884C\u6253\u5305\uFF0C\u5E76\u628A\u6253\u5305\u540E\u7684\u6587\u4EF6\u8F93\u51FA\u5230\u9ED8\u8BA4\u521B\u5EFA\u7684 <code>./dist</code> \u76EE\u5F55\u4E0B\uFF0C\u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\u79F0\u9ED8\u8BA4\u4E3A <code>main.js</code>\u3002</p><p>\u6A21\u5757\u6587\u4EF6\u6253\u5305\u4EE5\u540E\uFF0C\u5C31\u53EF\u4EE5\u5728\u4E0D\u652F\u6301 es6 \u6A21\u5757\u8BED\u6CD5\u7684\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u5F15\u5165\u4F7F\u7528\u4E86\u3002</p><h4 id="\u6253\u5305\u6587\u4EF6\u5206\u6790" tabindex="-1">\u6253\u5305\u6587\u4EF6\u5206\u6790 <a class="header-anchor" href="#\u6253\u5305\u6587\u4EF6\u5206\u6790" aria-hidden="true">#</a></h4><ul><li>\u628A\u5206\u6563\u7684\u6A21\u5757\u6587\u4EF6\u6253\u5305\u5230\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u4E0D\u9700\u8981\u5916\u90E8\u5F15\u5165\u4E86</li><li>\u5185\u7F6E\u4E86\u4E00\u4E2A\u5C0F\u578B\u6A21\u5757\u52A0\u8F7D\u5668(\u7C7B\u4F3C <code>requireJS</code>)\uFF0C\u5B9E\u73B0\u4E86\u6253\u5305\u540E\u7684\u4EE3\u7801\u9694\u79BB\u4E0E\u5F15\u7528</li></ul><p>\u4EE5\u4E0A\u5C31\u662F webpack \u6700\u57FA\u7840\u7684\u4F7F\u7528\u4E8E\u57FA\u672C\u539F\u7406\uFF0C\u5F53\u7136\u5F3A\u5927\u7684 <code>webpack</code> \u8FDC\u8FDC\u4E0D\u6B62\u8FD9\u4E9B\u529F\u80FD\u3002</p><h2 id="_5\u3001\u6253\u5305\u914D\u7F6E" tabindex="-1">5\u3001\u6253\u5305\u914D\u7F6E <a class="header-anchor" href="#_5\u3001\u6253\u5305\u914D\u7F6E" aria-hidden="true">#</a></h2><p>\u867D\u7136\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u547D\u4EE4\u7684\u6765\u6253\u5305\uFF0C\u4F46\u662F\u63A8\u8350\u521B\u5EFA\u4E00\u4E2A <code>webpack.config.js</code> \u7684\u914D\u7F6E\u6587\u4EF6\u6765\u5B9E\u73B0\u66F4\u65B9\u4FBF\u548C\u5F3A\u5927\u7684\u529F\u80FD\u3002</p><p><code>webpack</code> \u547D\u4EE4\u5728\u8FD0\u884C\u7684\u65F6\u5019\uFF0C\u9ED8\u8BA4\u4F1A\u8BFB\u53D6\u8FD0\u884C\u547D\u4EE4\u6240\u5728\u7684\u76EE\u5F55\u4E0B\u7684 <code>webpack.config.js</code> \u6587\u4EF6\uFF0C\u901A\u5E38\u6211\u4EEC\u4F1A\u5728\u9879\u76EE\u7684\u6839\u76EE\u5F55\u4E0B\u8FD0\u884C\u547D\u4EE4\u548C\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6\u3002</p><p>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u901A\u8FC7 <code>\u2014config</code> \u9009\u9879\u6765\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84\uFF1A</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0webpack --config ./configs/my_webpack.config.js</span></span>
<span class="line"></span></code></pre></div><p>\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u7684\u9879\u76EE\u76EE\u5F55\u5927\u81F4\u5982\u4E0B\uFF1A</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0-- /dist - \u9879\u76EE\u6253\u5305\u540E\u5B58\u653E\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0-- /node_modules - \u7B2C\u4E09\u65B9\u6A21\u5757</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0-- /src</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0------ css/</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0------ images/</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0------ js/</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0------ index.js</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0-- webpack.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0-- package.json</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u914D\u7F6E\u6587\u4EF6</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">//\u914D\u7F6E\u9879</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-1\u3001mode" tabindex="-1">5-1\u3001mode <a class="header-anchor" href="#_5-1\u3001mode" aria-hidden="true">#</a></h3><p>\u6A21\u5F0F : <code>&quot;production&quot; | &quot;development&quot; | &quot;none&quot;</code></p><p>\u4E0D\u540C\u7684\u6A21\u5F0F\u4F1A\u5BF9 <code>webpack</code> \u6253\u5305\u7684\u65F6\u5019\u8FDB\u884C\u4E00\u4E9B\u5BF9\u5E94\u7684\u4F18\u5316\u914D\u7F6E\u3002</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/Merlin218/image-storage/picGo/202204140950713.png" alt=""></p><h3 id="_5-2\u3001entry" tabindex="-1">5-2\u3001entry <a class="header-anchor" href="#_5-2\u3001entry" aria-hidden="true">#</a></h3><p>\u6307\u5B9A\u6253\u5305\u2F0A\u53E3\u2F42\u6587\u4EF6\uFF0C\u6709\u4E09\u79CD\u4E0D\u540C\u7684\u5F62\u5F0F\uFF1A<code>string | object | array</code></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index2.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">index1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index1.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">index2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index2.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-3\u3001output" tabindex="-1">5-3\u3001output <a class="header-anchor" href="#_5-3\u3001output" aria-hidden="true">#</a></h3><p>\u6253\u5305\u540E\u7684\u6587\u4EF6\u4F4D\u7F6E</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0output: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    path: path.resolve(__dirname, &quot;dist&quot;),</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0filename: &quot;bundle.js&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    filename: &quot;[name].js&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li><p>\u53EF\u4EE5\u6307\u5B9A\u4E00\u4E2A\u56FA\u5B9A\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5982\u679C\u662F\u591A\u5165\u53E3\u591A\u51FA\u53E3(<code>entry</code> \u4E3A\u5BF9\u8C61)\uFF0C\u5219\u4E0D\u80FD\u4F7F\u7528\u5355\u6587\u4EF6\u51FA\u53E3\uFF0C\u9700\u8981\u4F7F\u7528\u4E0B\u9762\u7684\u65B9\u5F0F</p><ul><li>\u901A\u8FC7 <code>webpack</code> \u5185\u7F6E\u7684\u53D8\u91CF\u5360\u4F4D\u7B26\uFF1A<code>[name]</code></li><li><a href="https://webpack.docschina.org/configuration/output/#template-strings" target="_blank" rel="noreferrer">Template strings</a></li></ul></li><li><p>\u5360\u4F4D\u7B26\u7C7B\u578B</p><ul><li>ext\uFF1A\u6587\u4EF6\u540E\u7F00\u540D</li><li>name\uFF1A\u6587\u4EF6\u540D</li><li>path\uFF1A\u6587\u4EF6\u76F8\u5BF9\u8DEF\u5F84</li><li>folder\uFF1A\u6587\u4EF6\u6240\u5728\u6587\u4EF6\u5939</li><li>hash\uFF1A\u6BCF\u6B21\u6784\u5EFA\u751F\u6210\u7684\u552F\u4E00 hash \u503C</li><li>chunkhash\uFF1A\u6839\u636E chunk \u751F\u6210 hash \u503C</li><li>contenthash\uFF1A\u6839\u636E\u6587\u4EF6\u5185\u5BB9\u751F\u6210hash \u503C</li></ul></li><li><p>\u533A\u5206\u4E09\u79CDhash</p><ul><li><strong>hash</strong>\xA0\uFF1A\u4EFB\u4F55\u4E00\u4E2A\u6587\u4EF6\u6539\u52A8\uFF0C\u6574\u4E2A\u9879\u76EE\u7684\u6784\u5EFA hash \u503C\u90FD\u4F1A\u6539\u53D8\uFF1B</li><li><strong>chunkhash</strong>\uFF1A\u6587\u4EF6\u7684\u6539\u52A8\u53EA\u4F1A\u5F71\u54CD\u5176\u6240\u5728 chunk \u7684 hash \u503C\uFF1B</li><li><strong>contenthash</strong>\uFF1A\u6BCF\u4E2A\u6587\u4EF6\u90FD\u6709\u5355\u72EC\u7684 hash \u503C\uFF0C\u6587\u4EF6\u7684\u6539\u52A8\u53EA\u4F1A\u5F71\u54CD\u81EA\u8EAB\u7684 hash \u503C\uFF1B</li></ul></li></ul><h2 id="_6\u3001\u6DF1\u5165" tabindex="-1">6\u3001\u6DF1\u5165 <a class="header-anchor" href="#_6\u3001\u6DF1\u5165" aria-hidden="true">#</a></h2><p>webpack \u9ED8\u8BA4\u652F\u6301\u5904\u7406 JS \u4E0E JSON \u6587\u4EF6\uFF0C\u5176\u4ED6\u7C7B\u578B\u90FD\u5904\u7406\u4E0D\u4E86\uFF0C\u8FD9\u91CC\u5FC5\u987B\u501F\u52A9 Loader \u6765\u5BF9\u4E0D\u540C\u7C7B\u578B\u7684\u6587\u4EF6\u7684\u8FDB\u884C\u5904\u7406\u3002</p><h3 id="_6-1\u3001\u6267\u884C\u7B80\u8981\u6D41\u7A0B" tabindex="-1">6-1\u3001\u6267\u884C\u7B80\u8981\u6D41\u7A0B <a class="header-anchor" href="#_6-1\u3001\u6267\u884C\u7B80\u8981\u6D41\u7A0B" aria-hidden="true">#</a></h3><ul><li><code>loaders</code>\uFF1A<code>webpack</code> \u4E2D\u975E\u5E38\u6838\u5FC3\u7684\u5185\u5BB9\u4E4B\u4E00\uFF0C\u524D\u9762\u6211\u4EEC\u8BF4\u7684\u975E js \u7C7B\u578B\u7684\u6A21\u5757\u5904\u7406\u5C31\u9760\u5B83\u4E86\u3002webpack \u53EF\u4EE5\u4F7F\u7528 loader \u6765\u9884\u5904\u7406\u6587\u4EF6\u3002\u8FD9\u5141\u8BB8\u4F60\u6253\u5305\u9664 JavaScript \u4E4B\u5916\u7684\u4EFB\u4F55\u9759\u6001\u8D44\u6E90\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528 Node.js \u6765\u5F88\u7B80\u5355\u5730\u7F16\u5199\u81EA\u5DF1\u7684 loader\u3002</li><li><code>plugins</code>\uFF1A<code>webpack</code> \u4E2D\u53E6\u5916\u4E00\u4E2A\u6838\u5FC3\u7684\u5185\u5BB9\uFF0C\u5B83\u4E3B\u8981\u662F\u6269\u5C55 <code>webpack</code> \u672C\u8EAB\u7684\u4E00\u4E9B\u529F\u80FD\u3002\u63D2\u4EF6\u53EF\u4EE5\u8FD0\u884C\u5728 <code>webpack</code> \u7684\u4E0D\u540C\u9636\u6BB5\uFF08\u94A9\u5B50 / \u751F\u547D\u5468\u671F\uFF09\u3002</li></ul><h2 id="_7\u3001loaders" tabindex="-1">7\u3001Loaders <a class="header-anchor" href="#_7\u3001loaders" aria-hidden="true">#</a></h2><p><a href="https://webpack.js.org/loaders/" target="_blank" rel="noreferrer">https://webpack.js.org/loaders/</a></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0  </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0    </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xxx-load</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u5F53 <code>webpack</code> \u78B0\u5230\u4E0D\u8BC6\u522B\u7684\u6A21\u5757\u7684\u65F6\u5019\uFF0C<code>webpack</code> \u4F1A\u5728\u914D\u7F6E\u7684 <code>module</code> \u4E2D\u8FDB\u884C\u8BE5\u6587\u4EF6\u89E3\u6790\u89C4\u5219\u7684\u67E5\u627E</p><ul><li><code>rules</code> \u5C31\u662F\u6211\u4EEC\u4E3A\u4E0D\u540C\u7C7B\u578B\u7684\u6587\u4EF6\u5B9A\u4E49\u7684\u89E3\u6790\u89C4\u5219\u5BF9\u5E94\u7684 loader\uFF0C\u5B83\u662F\u4E00\u4E2A\u6570\u7EC4</li><li>\u6BCF\u4E00\u79CD\u7C7B\u578B\u89C4\u5219\u901A\u8FC7 test \u9009\u9879\u6765\u5B9A\u4E49\uFF0C\u901A\u8FC7\u6B63\u5219\u8FDB\u884C\u5339\u914D\uFF0C\u901A\u5E38\u6211\u4EEC\u4F1A\u901A\u8FC7\u6B63\u5219\u7684\u65B9\u5F0F\u6765\u5339\u914D\u6587\u4EF6\u540E\u7F00\u7C7B\u578B</li><li><code>use</code> \u9488\u5BF9\u5339\u914D\u5230\u6587\u4EF6\u7C7B\u578B\uFF0C\u8C03\u7528\u5BF9\u5E94\u7684 <code>loader</code> \u8FDB\u884C\u5904\u7406</li></ul><h3 id="_7-1\u3001raw-loader" tabindex="-1">7-1\u3001raw-loader <a class="header-anchor" href="#_7-1\u3001raw-loader" aria-hidden="true">#</a></h3><p>\u5728 <code>webpack</code> \u4E2D\u901A\u8FC7 import \u65B9\u5F0F\u5BFC\u5165\u6587\u4EF6\u5185\u5BB9\uFF0Cloader \u5E76\u4E0D\u662F <code>webpack</code> \u5185\u7F6E\u7684\uFF0C\u6240\u4EE5\u9996\u5148\u8981\u5B89\u88C5</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev raw-loader</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u7136\u540E\u5728 <code>webpack.config.js</code> \u4E2D\u8FDB\u884C\u914D\u7F6E</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">txt</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">md</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">raw-loader</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-2\u3001\u56FE\u7247\u8D44\u6E90\u5904\u7406" tabindex="-1">7-2\u3001\u56FE\u7247\u8D44\u6E90\u5904\u7406 <a class="header-anchor" href="#_7-2\u3001\u56FE\u7247\u8D44\u6E90\u5904\u7406" aria-hidden="true">#</a></h3><h4 id="file-loader" tabindex="-1">file-loader <a class="header-anchor" href="#file-loader" aria-hidden="true">#</a></h4><p>\u89E3\u51B3\u56FE\u7247\u5F15\u5165\u95EE\u9898\uFF0C\u5E76\u5C06\u56FE\u7247 copy \u5230\u6307\u5B9A\u76EE\u5F55\uFF0C\u9ED8\u8BA4\u4E3A dist</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev file-loader</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">jpe</span><span style="color:#89DDFF;">?</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">gif</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">file-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#676E95;">// placeholder \u5360\u4F4D\u7B26 [name] \u6E90\u8D44\u6E90\u6A21\u5757\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#676E95;">// [ext] \u6E90\u8D44\u6E90\u6A21\u5757\u7684\u540E\u7F00</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[name]_[hash].[ext]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#676E95;">//\u6253\u5305\u540E\u7684\u5B58\u653E\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">outputPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./images</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#676E95;">// \u6253\u5305\u540E\u6587\u4EF6\u7684 url</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">publicPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./images</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0]</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u5360\u4F4D\u7B26\uFF1A<a href="https://webpack.js.org/loaders/file-loader#placeholders" target="_blank" rel="noreferrer">https://webpack.js.org/loaders/file-loader#placeholders</a></p></blockquote><h4 id="url-loader" tabindex="-1">url-loader <a class="header-anchor" href="#url-loader" aria-hidden="true">#</a></h4><p>\u89E3\u4F9D\u8D56 file-loader\uFF0C\u5F53\u56FE\u7247\u5C0F\u4E8E limit \u503C\u7684\u65F6\u5019\uFF0C\u4F1A\u5C06\u56FE\u7247\u8F6C\u4E3A base64 \u7F16\u7801\uFF0C\u5927\u4E8E limit \u503C\u7684\u65F6\u5019\u4F9D\u7136\u662F\u4F7F\u7528 file-loader \u8FDB\u884C\u62F7\u8D1D\u3002</p><p><strong>\u914D\u7F6E\u548C file-loader \u7C7B\u4F3C\uFF0C\u591A\u4E86\u4E00\u4E2A limit \u7684\u914D\u7F6E\u3002</strong></p><p>\u76F4\u63A5\u4F7F\u7528url-loader\u4EE3\u66FFfile-loader</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">         </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">jpe</span><span style="color:#89DDFF;">?</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">gif</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">i</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">url-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name][hash:8].[ext]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">              </span><span style="color:#676E95;">// \u6587\u4EF6\u5C0F\u4E8E 50k \u4F1A\u8F6C\u6362\u4E3A base64\uFF0C\u5927\u4E8E\u5219\u62F7\u8D1D\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">limit</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="img-loader" tabindex="-1">img-loader <a class="header-anchor" href="#img-loader" aria-hidden="true">#</a></h4><p>\u4F5C\u7528\uFF1A\u538B\u7F29\u56FE\u7247</p><h4 id="webpack5\u4E2D\u65B0\u589E\u4E86\u8D44\u6E90\u6A21\u5757" tabindex="-1">webpack5\u4E2D\u65B0\u589E\u4E86\u8D44\u6E90\u6A21\u5757 <a class="header-anchor" href="#webpack5\u4E2D\u65B0\u589E\u4E86\u8D44\u6E90\u6A21\u5757" aria-hidden="true">#</a></h4><p>\u5141\u8BB8\u4F7F\u7528\u8D44\u6E90\u6587\u4EF6\uFF08\u5B57\u4F53\uFF0C\u56FE\u7247\u7B49\uFF09\u800C\u65E0\u9700\u914D\u7F6E\u989D\u5916\u7684loader \uFF08\u7528\u8D77\u6765\u786E\u5B9E\u8212\u670D\uFF09</p><p>\u8D44\u6E90\u6A21\u5757\u652F\u6301\u4EE5\u4E0B\u56DB\u4E2A\u914D\u7F6E\uFF1A</p><blockquote><ol><li><code>asset/resource</code> \u5C06\u8D44\u6E90\u5206\u5272\u4E3A\u5355\u72EC\u7684\u6587\u4EF6\uFF0C\u5E76\u5BFC\u51FA url\uFF0C\u7C7B\u4F3C\u4E4B\u524D\u7684 file-loader \u7684\u529F\u80FD.</li><li><code>asset/inline</code> \u5C06\u8D44\u6E90\u5BFC\u51FA\u4E3A dataUrl \u7684\u5F62\u5F0F\uFF0C\u7C7B\u4F3C\u4E4B\u524D\u7684 url-loader \u7684\u5C0F\u4E8E limit \u53C2\u6570\u65F6\u529F\u80FD.</li><li><code>asset/source</code> \u5C06\u8D44\u6E90\u5BFC\u51FA\u4E3A\u6E90\u7801\uFF08source code\uFF09. \u7C7B\u4F3C\u7684 raw-loader \u529F\u80FD.</li><li><code>asset</code> \u4F1A\u6839\u636E\u6587\u4EF6\u5927\u5C0F\u6765\u9009\u62E9\u4F7F\u7528\u54EA\u79CD\u7C7B\u578B\uFF0C\u5F53\u6587\u4EF6\u5C0F\u4E8E 8 KB\uFF08\u9ED8\u8BA4\uFF09 \u7684\u65F6\u5019\u4F1A\u4F7F\u7528 asset/inline\uFF0C\u5426\u5219\u4F1A\u4F7F\u7528 asset/resource</li></ol></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// \u4F7F\u7528webpack5\u81EA\u5E26\u8D44\u6E90\u6A21\u5757</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">jpe</span><span style="color:#89DDFF;">?</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">gif</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// asset \u4F1A\u6839\u636E\u6587\u4EF6\u5927\u5C0F\u6765\u9009\u62E9\u4F7F\u7528\u54EA\u79CD\u7C7B\u578B</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// \u5F53\u6587\u4EF6\u5C0F\u4E8E 8 KB\uFF08\u9ED8\u8BA4\uFF09 \u7684\u65F6\u5019\u4F1A\u4F7F\u7528 asset/inline</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// \u5426\u5219\u4F1A\u4F7F\u7528 asset/resource</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">asset</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">generator</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#FFCB6B;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[name][hash:8][ext]</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">parser</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#FFCB6B;">dataUrlCondition</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">maxSize</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">50</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// \u8D85\u8FC750kb \u4E0D\u8F6C base64</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">woff2</span><span style="color:#89DDFF;">?|</span><span style="color:#C3E88D;">eot</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">ttf</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">otf</span><span style="color:#89DDFF;">)(</span><span style="color:#A6ACCD;">\\?</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">*)?</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">i</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">asset</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">generator</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;">// \u8F93\u51FA\u6587\u4EF6\u4F4D\u7F6E\u4EE5\u53CA\u6587\u4EF6\u540D</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#FFCB6B;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[name][hash:8][ext]</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">parser</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#FFCB6B;">dataUrlCondition</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">maxSize</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// \u8D85\u8FC7100kb \u4E0D\u8F6C base64</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-3\u3001css-loader" tabindex="-1">7-3\u3001css-loader <a class="header-anchor" href="#_7-3\u3001css-loader" aria-hidden="true">#</a></h3><p>\u5BF9\xA0<code>@import</code>\xA0\u548C\xA0<code>url()</code>\xA0\u8FDB\u884C\u5904\u7406\uFF0C\u5C31\u50CF js \u89E3\u6790\xA0<code>import/require()</code>\xA0\u4E00\u6837\u3002</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev css-loader</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">css</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        </span><span style="color:#676E95;">// \u542F\u7528/\u7981\u7528 url() \u5904\u7406</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        </span><span style="color:#676E95;">// \u542F\u7528/\u7981\u7528 @import \u5904\u7406</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#676E95;">// \u542F\u7528/\u7981\u7528 Sourcemap</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#F07178;">sourceMap</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0]</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-4\u3001style-loader" tabindex="-1">7-4\u3001style-loader <a class="header-anchor" href="#_7-4\u3001style-loader" aria-hidden="true">#</a></h3><p>\u628A <code>css-loader</code> \u751F\u6210\u7684\u5185\u5BB9\uFF0C\u7528 <code>style</code> \u6807\u7B7E\u6302\u8F7D\u5230\u2EDA\u9762\u7684 <code>head</code> \u4E2D</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev style-loader</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">css</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0]</span></span>
<span class="line"></span></code></pre></div><p>\u540C\u4E00\u4E2A\u4EFB\u52A1\u7684 <code>loader</code> \u53EF\u4EE5\u540C\u65F6\u6302\u8F7D\u591A\u4E2A\uFF0C\u5904\u7406\u987A\u5E8F\u4E3A\uFF1A\u4ECE\u53F3\u5230\u5DE6\uFF0C\u4E5F\u5C31\u662F\u5148\u901A\u8FC7 <code>css-loader</code> \u5904\u7406\uFF0C\u7136\u540E\u628A\u5904\u7406\u540E\u7684 <code>css</code> \u5B57\u7B26\u4E32\u4EA4\u7ED9 <code>style-loader</code> \u8FDB\u884C\u5904\u7406</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0rules: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    test: /\\.css$/,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0use: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0      {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        loader: &#39;style-loader&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        options: {}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0      },</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0&#39;css-loader&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>style-loader \u6838\u5FC3\u903B\u8F91\u76F8\u5F53\u4E8E\uFF1A</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> content </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">\u6837\u5F0F\u5185\u5BB9</span><span style="color:#89DDFF;">}\`</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> style </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> content</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">head</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(style)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u901A\u8FC7\u52A8\u6001\u6DFB\u52A0 style \u6807\u7B7E\u7684\u65B9\u5F0F\uFF0C\u5C06\u6837\u5F0F\u5F15\u5165\u9875\u9762</p><blockquote><p>\u5BF9\u6BD4MiniCssExtractPlugin.loader</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// \u4F7F\u7528style-loader\u628Acss-loader\u5904\u7406\u5B8C\u7684\u5185\u5BB9\u901A\u8FC7style\u6807\u7B7E\u63D2\u5165\u5230head\u6807\u7B7E\u4E2D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// MiniCssExtractPlugin.loader\u662F\u628Acss\u63D0\u53D6\u5230\u5355\u72EC\u7684css\u6587\u4EF6\u4E2D\uFF0C\u7136\u540E\u901A\u8FC7link\u6807\u7B7E\u5F15\u5165\u6587\u4EF6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [MiniCssExtractPlugin</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">loader</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-5\u3001postcss-loader" tabindex="-1">7-5\u3001postcss-loader <a class="header-anchor" href="#_7-5\u3001postcss-loader" aria-hidden="true">#</a></h3><p>\u4F7F\u7528\xA0<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwebpack.docschina.org%2Floaders%2Fpostcss-loader%2F" title="https://webpack.docschina.org/loaders/postcss-loader/" target="_blank" rel="noreferrer">postcss-loader</a>\uFF0C\u81EA\u52A8\u6DFB\u52A0 CSS3 \u90E8\u5206\u5C5E\u6027\u7684\u6D4F\u89C8\u5668\u524D\u7F00\u3002</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">pnpm install postcss postcss-loader postcss-preset-env -D</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">css</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">//\u5339\u914D\u6240\u6709\u7684 css \u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">postcss-loader</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u521B\u5EFA <code>postcss</code> \u914D\u7F6E\u6587\u4EF6 <code>postcss.config.js</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// postcss.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">postcss-preset-env</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u521B\u5EFA <code>postcss-preset-env</code> \u914D\u7F6E\u6587\u4EF6 <code>.browserslistrc</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># \u6362\u884C\u76F8\u5F53\u4E8E and</span></span>
<span class="line"><span style="color:#A6ACCD;">last 2 versions </span><span style="color:#676E95;"># \u56DE\u9000\u4E24\u4E2A\u6D4F\u89C8\u5668\u7248\u672C</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> 0.5% </span><span style="color:#676E95;"># \u5168\u7403\u8D85\u8FC70.5%\u4EBA\u4F7F\u7528\u7684\u6D4F\u89C8\u5668\uFF0C\u53EF\u4EE5\u901A\u8FC7 caniuse.com \u67E5\u770B\u4E0D\u540C\u6D4F\u89C8\u5668\u4E0D\u540C\u7248\u672C\u5360\u6709\u7387</span></span>
<span class="line"><span style="color:#A6ACCD;">IE 10 </span><span style="color:#676E95;"># \u517C\u5BB9IE 10</span></span>
<span class="line"></span></code></pre></div><p>\u7ED3\u679C\uFF1A <img src="https://cdn.jsdelivr.net/gh/Merlin218/image-storage/picGo/202204141222058.png" alt=""></p><h3 id="_7-6\u3001less-loader\u6216sass-loader" tabindex="-1">7.6\u3001less-loader\u6216sass-loader <a class="header-anchor" href="#_7-6\u3001less-loader\u6216sass-loader" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">pnpm i less-loader -D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pnpm i node-sass sass-loader -D</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-7\u3001babel-loader" tabindex="-1">7.7\u3001babel-loader <a class="header-anchor" href="#_7-7\u3001babel-loader" aria-hidden="true">#</a></h3><p>\u5BF9js\u4EE3\u7801\u8FDB\u884C\u517C\u5BB9\u5904\u7406</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">npm install babel-loader @babel/core @babel/preset-env -D</span></span>
<span class="line"></span></code></pre></div><ul><li><code>babel-loader</code>\xA0\u4F7F\u7528\xA0Babel \u52A0\u8F7D ES2015+ \u4EE3\u7801\u5E76\u5C06\u5176\u8F6C\u6362\u4E3A ES5</li><li><code>@babel/core</code>\xA0Babel \u7F16\u8BD1\u7684\u6838\u5FC3\u5305</li><li><code>@babel/preset-env</code>\xA0Babel \u7F16\u8BD1\u7684\u9884\u8BBE\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A Babel \u63D2\u4EF6\u7684\u8D85\u96C6</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">i</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            loader</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            options</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              presets</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">              ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        ]</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><p>\u914D\u7F6Ebabel</p><p>useBuiltIns: false \u9ED8\u8BA4\u503C\uFF0C\u65E0\u89C6\u6D4F\u89C8\u5668\u517C\u5BB9\u914D\u7F6E\uFF0C\u5F15\u5165\u6240\u6709 polyfill</p><p>useBuiltIns: entry \u6839\u636E\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u5F15\u5165\u6D4F\u89C8\u5668\u4E0D\u517C\u5BB9\u7684 polyfill</p><p>useBuiltIns: usage \u4F1A\u6839\u636E\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u4EE5\u53CA\u4F60\u4EE3\u7801\u4E2D\u7528\u5230\u7684 API \u6765\u8FDB\u884C\xA0polyfill\uFF0C\u5B9E\u73B0\u4E86\u6309\u9700\u6DFB\u52A0</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// useBuiltIns: false \u9ED8\u8BA4\u503C\uFF0C\u65E0\u89C6\u6D4F\u89C8\u5668\u517C\u5BB9\u914D\u7F6E\uFF0C\u5F15\u5165\u6240\u6709 polyfill</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// useBuiltIns: entry \u6839\u636E\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u5F15\u5165\u6D4F\u89C8\u5668\u4E0D\u517C\u5BB9\u7684 polyfill</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// useBuiltIns: usage \u4F1A\u6839\u636E\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u4EE5\u53CA\u4F60\u4EE3\u7801\u4E2D\u7528\u5230\u7684 API \u6765\u8FDB\u884C\xA0polyfill\uFF0C\u5B9E\u73B0\u4E86\u6309\u9700\u6DFB\u52A0</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">useBuiltIns</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">usage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">corejs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3.9.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u662F core-js \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">targets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u76EE\u6807\u517C\u5BB9\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">chrome</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">58</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">ie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">11</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-8\u3001vue-loader" tabindex="-1">7.8\u3001vue-loader <a class="header-anchor" href="#_7-8\u3001vue-loader" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#FFCB6B;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [    </span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#676E95;">// \u5904\u7406vue\u6587\u4EF6</span></span>
<span class="line"><span style="color:#F07178;">	    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	        test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">	        use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-loader</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">	    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// ,,,</span></span>
<span class="line"><span style="color:#F07178;">	]</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#FFCB6B;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">VueLoaderPlugin</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><p>\u66F4\u591A\u7EC6\u8282\u524D\u5F80<a href="https://vue-loader.vuejs.org/zh/" target="_blank" rel="noreferrer">\u67E5\u770B\u6587\u6863</a></p><p>7-9\u3001ts-loader</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#FFCB6B;">resolve</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">// \u89E3\u6790\u6587\u4EF6\u683C\u5F0F\u5217\u8868\uFF0C&#39;...&#39;\u4E3A\u9ED8\u8BA4\u5217\u8868[&#39;js&#39;,&#39;json&#39;]</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">extensions</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.ts</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#FFCB6B;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [    </span></span>
<span class="line"><span style="color:#89DDFF;">	  </span><span style="color:#676E95;">// \u5904\u7406ts\u6587\u4EF6</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">tsx</span><span style="color:#89DDFF;">?</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ts-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// ,,,</span></span>
<span class="line"><span style="color:#F07178;">	]</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><h2 id="_8\u3001plugins" tabindex="-1">8\u3001Plugins <a class="header-anchor" href="#_8\u3001plugins" aria-hidden="true">#</a></h2><p>\u6269\u5C55 <code>webpack</code> \u672C\u8EAB\u7684\u4E00\u4E9B\u529F\u80FD\uFF0C\u5B83\u4EEC\u4F1A\u8FD0\u884C\u5728 <code>webpack</code> \u7684\u4E0D\u540C\u9636\u6BB5\uFF08\u94A9\u5B50 / \u751F\u547D\u5468\u671F\uFF09\u3002webpack \u81EA\u8EAB\u4E5F\u662F\u6784\u5EFA\u4E8E\u4F60\u5728 webpack \u914D\u7F6E\u4E2D\u7528\u5230\u7684<strong>\u76F8\u540C\u7684\u63D2\u4EF6\u7CFB\u7EDF</strong>\u4E4B\u4E0A\uFF01</p><p>\u63D2\u4EF6\u76EE\u7684\u5728\u4E8E\u89E3\u51B3 <a href="https://webpack.docschina.org/concepts/loaders" target="_blank" rel="noreferrer">loader</a> \u65E0\u6CD5\u5B9E\u73B0\u7684<strong>\u5176\u4ED6\u4E8B</strong>\u3002</p><h3 id="_8-1\u3001htmlwebpackplugin" tabindex="-1">8-1\u3001HtmlWebpackPlugin <a class="header-anchor" href="#_8-1\u3001htmlwebpackplugin" aria-hidden="true">#</a></h3><p>\u5728\u6253\u5305\u7ED3\u675F\u540E\uFF0C\u2F83\u52A8\u751F\u6210\u2F00\u4E2A <code>html</code> \u6587\u4EF6\uFF0C\u5E76\u628A\u6253\u5305\u751F\u6210\u7684 js\u3001css\u7B49\u6A21\u5757\u5F15\u2F0A\u5230\u8BE5 <code>html</code> \u4E2D</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev html-webpack-plugin</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#676E95;">// webpack.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0plugins: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">My App</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/html/index.html</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#676E95;">&lt;!--./src/html/index.html--&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">charset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">viewport</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width=device-width, initial-scale=1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">http-equiv</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X-UA-Compatible</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ie=edge</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">&lt;%=htmlWebpackPlugin.options.title%&gt;</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">html-webpack-plugin</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u5728 <code>html</code> \u6A21\u677F\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>&lt;%=htmlWebpackPlugin.options.XXX%&gt;</code> \u7684\u65B9\u5F0F\u83B7\u53D6\u914D\u7F6E\u7684\u503C</p><p><strong>\u66F4\u591A\u7684\u914D\u7F6E</strong></p><ul><li><code>title</code>: \u2F64\u6765\u751F\u6210\u2EDA\u9762\u7684 <code>title</code> \u5143\u7D20</li><li><code>filename</code>: \u8F93\u51FA\u7684 <code>HTML</code> \u2F42\u4EF6\u540D\uFF0C\u9ED8\u8BA4\u662F <code>index.html</code>\uFF0C \u4E5F\u53EF\u4EE5\u76F4\u63A5\u914D\u7F6E\u5B50\u76EE\u5F55</li><li><code>template</code>: \u6A21\u677F\u2F42\u4EF6\uF937\u5F84\uFF0C\u2F40\u6301\u52A0\u8F7D\uFA38\uFF08<code>loader</code>\uFF09\uFF0C\u2F50\u5982 <code>html!./index.html</code></li><li><code>inject</code>: <code>true | &#39;head&#39; | &#39;body&#39; | false</code>\uFF0C\u6CE8\u2F0A\u6240\u6709\u7684\u8D44\u6E90\u5230\u7279\u5B9A\u7684 <code>template</code> \u6216\u8005 <code>templateContent</code> \u4E2D\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3A <code>true</code> \u6216\u8005 <code>body</code>\uFF0C\u6240\u6709\u7684 <code>javascript</code> \u8D44\u6E90\u5C06\u88AB\u653E\u7F6E\u5230 <code>body</code> \u5143\u7D20\u7684\u5E95\u90E8\uFF0C<code>&#39;head&#39;</code> \u5C06\u653E\u7F6E\u5230 <code>head</code> \u5143\u7D20\u4E2D</li><li><code>favicon</code>: \u6DFB\u52A0\u7279\u5B9A\u7684 <code>favicon</code> \u8DEF\u5F84\u5230\u8F93\u51FA\u7684 <code>HTML</code> \u6587\u4EF6\u4E2D</li><li><code>minify</code>: <code>{} | false</code>\uFF0C \u4F20\u9012 <code>html-minifier</code> \u9009\u9879\u7ED9 <code>minify</code> \u8F93\u51FA</li><li><code>hash</code>: <code>true | false</code>\uFF0C\u5982\u679C\u4E3A <code>true</code>\uFF0C\u5C06\u6DFB\u52A0 <code>webpack</code> \u7F16\u8BD1\u751F\u6210\u7684 <code>hash</code> \u5230\u6240\u6709\u5305\u542B\u7684\u811A\u672C\u548C <code>CSS</code> \u2F42\u4EF6\uFF0C\u5BF9\u4E8E\u89E3\u9664 <code>cache</code> \u5F88\u6709\u7528</li><li><code>cache</code>: <code>true | false</code>\uFF0C\u5982\u679C\u4E3A <code>true</code>\uFF0C\u8FD9\u662F\u9ED8\u8BA4\u503C\uFF0C\u4EC5\u5728\u6587\u4EF6\u4FEE\u6539\u4E4B\u540E\u624D\u4F1A\u53D1\u5E03\u6587\u4EF6</li><li><code>showErrors</code>: <code>true | false</code>\uFF0C\u5982\u679C\u4E3A <code>true</code>\uFF0C\u8FD9\u662F\u9ED8\u8BA4\u503C\uFF0C\u9519\u8BEF\u4FE1\u606F\u4F1A\u5199\u5165\u5230 <code>HTML</code> \u2EDA\u9762\u4E2D</li><li><code>chunks</code>: \u5141\u8BB8\u53EA\u6DFB\u52A0\u67D0\u4E9B\u5757 (\u2F50\u5982\uFF0C\u4EC5 unit test \u5757)</li><li><code>chunksSortMode</code>: \u5141\u8BB8\u63A7\u5236\u5757\u5728\u6DFB\u52A0\u5230\u2EDA\u9762\u4E4B\u524D\u7684\u6392\u5E8F\u65B9\u5F0F\uFF0C\u2F40\u6301\u7684\u503C:<code>&#39;none&#39; | &#39;default&#39; |{function}-default:&#39;auto&#39;</code></li><li><code>excludeChunks</code>: \u5141\u8BB8\u8DF3\u8FC7\u67D0\u4E9B\u5757\uFF0C(\u2F50\u5982\uFF0C\u8DF3\u8FC7\u5355\u5143\u6D4B\u8BD5\u7684\u5757)</li></ul><h3 id="_8-2\u3001clean-webpack-plugin" tabindex="-1">8-2\u3001clean-webpack-plugin <a class="header-anchor" href="#_8-2\u3001clean-webpack-plugin" aria-hidden="true">#</a></h3><p>\u5220\u9664\uFF08\u6E05\u7406\uFF09\u6784\u5EFA\u76EE\u5F55</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev clean-webpack-plugin</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0const {CleanWebpackPlugin} = require(&#39;clean-webpack-plugin&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0plugins: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0new CleanWebpackPlugin(),</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="_8-3\u3001mini-css-extract-plugin" tabindex="-1">8-3\u3001mini-css-extract-plugin <a class="header-anchor" href="#_8-3\u3001mini-css-extract-plugin" aria-hidden="true">#</a></h3><p>\u63D0\u53D6 <code>CSS</code> \u5230\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u4E2D</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev mini-css-extract-plugin</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0module: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    rules: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0      {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        test: /\\.s[ac]ss$/,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0        use: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0          {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0            loader: MiniCssExtractPlugin.loader</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0          },</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0 \xA0&#39;css-loader&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0 \xA0&#39;sass-loader&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0      }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  },</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0plugins: [</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0new MiniCssExtractPlugin({</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0    filename: &#39;[name].css&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  }),</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="_9\u3001webpackdevserver" tabindex="-1">9\u3001WebpackDevServer <a class="header-anchor" href="#_9\u3001webpackdevserver" aria-hidden="true">#</a></h2><p>\u6BCF\u6B21\u7684\u4EE3\u7801\u4FEE\u6539\u90FD\u9700\u8981\u91CD\u65B0\u7F16\u8BD1\u6253\u5305\uFF0C\u5237\u65B0\u6D4F\u89C8\u5668\uFF0C\u7279\u522B\u9EBB\u70E6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u5B89\u88C5 <code>webpackDevServer</code> \u6765\u6539\u5584\u8FD9\u65B9\u9762\u7684\u4F53\u9A8C</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npm install --save-dev webpack-dev-server</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u542F\u52A8\u547D\u4EE4\uFF1A</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0npx webpack-dev-server</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u6216\u8005\uFF0C<code>package.json</code> \u4E2D\u6DFB\u52A0 <code>scripts</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0&quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0&quot;server&quot;: &quot;webpack-dev-server&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u4FEE\u6539 <code>webpack.config.js</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0devServer: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    // \u6269\u5C55\u7684\u865A\u62DF\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    contentBase: &quot;./abc&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    // \u81EA\u52A8\u5F00\u542F\u6D4F\u89C8\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    open: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    // \u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    port: 8081</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>\u4E3A\u4EC0\u4E48\u8981\u914D\u7F6E contentBase \uFF1F</strong></p><p>\u56E0\u4E3A webpack \u5728\u8FDB\u884C\u6253\u5305\u7684\u65F6\u5019\uFF0C\u5BF9\u9759\u6001\u6587\u4EF6\u7684\u5904\u7406\uFF0C\u4F8B\u5982\u56FE\u7247\uFF0C\u90FD\u662F\u76F4\u63A5 copy \u5230 dist \u76EE\u5F55\u4E0B\u9762\u3002\u4F46\u662F\u5BF9\u4E8E\u672C\u5730\u5F00\u53D1\u6765\u8BF4\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u592A\u8D39\u65F6\uFF0C\u4E5F\u6CA1\u6709\u5FC5\u8981\uFF0C\u6240\u4EE5\u5728\u8BBE\u7F6E contentBase \u4E4B\u540E\uFF0C\u5C31\u76F4\u63A5\u5230\u5BF9\u5E94\u7684\u9759\u6001\u76EE\u5F55\u4E0B\u9762\u53BB\u8BFB\u53D6\u6587\u4EF6\uFF0C\u800C\u4E0D\u9700\u5BF9\u6587\u4EF6\u505A\u4EFB\u4F55\u79FB\u52A8\uFF0C\u8282\u7701\u4E86\u65F6\u95F4\u548C\u6027\u80FD\u5F00\u9500\u3002</p><h3 id="_9-1\u3001proxy" tabindex="-1">9-1\u3001Proxy <a class="header-anchor" href="#_9-1\u3001proxy" aria-hidden="true">#</a></h3><p>\u5F53\u4E0B\u524D\u7AEF\u7684\u5F00\u53D1\u90FD\u662F\u524D\u540E\u7AEF\u5206\u79BB\u5F00\u53D1\u7684\uFF0C\u524D\u7AEF\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u4EE3\u7801\u4F1A\u8FD0\u884C\u5728\u4E00\u4E2A\u670D\u52A1\u5668\u73AF\u5883\u4E0B(\u5982\u5F53\u524D\u7684 <code>WebpackDevServer</code>)\uFF0C\u90A3\u4E48\u5728\u5904\u7406\u4E00\u4E9B\u540E\u7AEF\u8BF7\u6C42\u7684\u65F6\u5019\u901A\u5E38\u4F1A\u51FA\u73B0\u8DE8\u57DF\u7684\u95EE\u9898\u3002<code>WebpackDevServer</code> \u5185\u7F6E\u4E86\u4E00\u4E2A\u4EE3\u7406\u670D\u52A1\uFF0C\u901A\u8FC7\u5185\u7F6E\u4EE3\u7406\u5C31\u53EF\u4EE5\u628A\u6211\u4EEC\u7684\u8DE8\u57DF\u8BF7\u6C42\u8F6C\u53D1\u76EE\u6807\u670D\u52A1\u5668\u4E0A(<code>WebpackDevServer</code> \u5185\u7F6E\u7684\u4EE3\u7406\u53D1\u9001\u7684\u8BF7\u6C42\u5C5E\u4E8E\u540E\u7AEF - <code>node</code>\uFF0C\u4E0D\u53D7\u540C\u6E90\u7B56\u7565\u9650\u5236)\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0const Koa = require(&#39;koa&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0const KoaRouter = require(&#39;koa-router&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0const app = new Koa();</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0const router = new KoaRouter();</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0router.get(&#39;/api/info&#39;, async ctx =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0ctx.body = {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0username: &#39;zMouse&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0 \xA0gender: &#39;male&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0})</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0app.use( router.routes() );</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0app.listen(8787);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0axios({</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0url: &#39;http://localhost:8787/api/info&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}).then(res =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0console.log(&#39;res&#39;,res.data);</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u8BE5\u4EE3\u7801\u8FD0\u884C\u4EE5\u540E\u4F1A\u51FA\u73B0\u8DE8\u57DF\u8BF7\u6C42\u9519\u8BEF\uFF0C\u4FEE\u6539 <code>webpack</code> \u914D\u7F6E</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0devServer: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    // \u751F\u6210\u7684\u865A\u62DF\u76EE\u5F55\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    contentBase: &quot;./dist&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    // \u81EA\u52A8\u5F00\u542F\u6D4F\u89C8\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    open: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    // \u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    port: 8081,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    proxy: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0&#39;/api&#39;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0    target: &#39;http://localhost:8787&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0    }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  }</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u901A\u8FC7 <code>proxy</code> \u8BBE\u7F6E\uFF0C\u5F53\u6211\u4EEC\u5728\u5F53\u524D <code>WebpackDevServer</code> \u73AF\u5883\u4E0B\u53D1\u9001\u4EE5 <code>/api</code> \u5F00\u5934\u7684\u8BF7\u6C42\u90FD\u4F1A\u88AB\u8F6C\u53D1\u5230 <code>http://localhost:8787</code> \u76EE\u6807\u670D\u52A1\u5668\u4E0B</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0axios({</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0//url: &#39;http://locahost:8081/api/info&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0url: &#39;/api/info&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}).then(res =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0console.log(&#39;res&#39;,res.data);</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u6CE8\u610F <code>url</code> \u5730\u5740\u8981\u586B\u5199 <code>WebpackDevServer</code> \u57DF\uFF0C\u6BD4\u5982\u5F53\u524D <code>WebpackDevServer</code> \u5F00\u542F\u7684\u662F <code>http://localhost:8081</code>\uFF0C\u4E5F\u5C31\u662F\u6211\u4EEC\u5F53\u524D\u524D\u7AEF\u4EE3\u7801\u8FD0\u884C\u7684\u73AF\u5883\uFF0C\u90A3\u4E48\u8BF7\u6C42\u7684 <code>url</code> \u4E5F\u5FC5\u987B\u53D1\u9001\u5230\u8FD9\u91CC\uFF0C\u5F53\u6211\u4EEC\u7684\u8BF7\u6C42\u6EE1\u8DB3\u4E86 <code>proxy</code> \u4E2D\u8BBE\u7F6E\u7684 <code>/api</code> \u5F00\u5934\uFF0C\u90A3\u4E48\u5C31\u4F1A\u628A\u8BF7\u6C42\u8F6C\u53D1\u5230 <code>target</code> \uFF0C\u6240\u4EE5\u6700\u540E\u7684\u5B9E\u9645\u8BF7\u6C42\u662F\uFF1A<code>http://lcoahost:8787/api/info</code></p><h3 id="_9-2\u3001hot-module-replacement" tabindex="-1"><strong>9 - 2\u3001Hot Module Replacement</strong> <a class="header-anchor" href="#_9-2\u3001hot-module-replacement" aria-hidden="true">#</a></h3><p>\u5728\u4E4B\u524D\u5F53\u4EE3\u7801\u6709\u53D8\u5316\uFF0C\u6211\u4EEC\u4F7F\u7528\u7684 <code>live reload</code>\uFF0C\u4E5F\u5C31\u662F\u5237\u65B0\u6574\u4E2A\u9875\u9762\uFF0C\u867D\u7136\u8FD9\u6837\u4E3A\u6211\u4EEC\u7701\u6389\u4E86\u5F88\u591A\u624B\u52A8\u5237\u65B0\u9875\u9762\u7684\u9EBB\u70E6\uFF0C\u4F46\u662F\u8FD9\u6837\u5373\u4F7F\u53EA\u662F\u4FEE\u6539\u4E86\u5F88\u5C0F\u7684\u5185\u5BB9\uFF0C\u4E5F\u4F1A\u5237\u65B0\u6574\u4E2A\u9875\u9762\uFF0C\u65E0\u6CD5\u4FDD\u6301\u9875\u9762\u64CD\u4F5C\u72B6\u6001\u3002<code>HMR</code> \u968F\u4E4B\u5C31\u51FA\u73B0\u4E86\uFF0C\u5B83\u7684\u6838\u5FC3\u7684\u5C40\u90E8\uFF08\u6A21\u5757\uFF09\u66F4\u65B0\uFF0C\u4E5F\u5C31\u662F\u4E0D\u5237\u65B0\u9875\u9762\uFF0C\u53EA\u66F4\u65B0\u53D8\u5316\u7684\u90E8\u5206</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">devServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#676E95;">// \u751F\u6210\u7684\u865A\u62DF\u76EE\u5F55\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">contentBase</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#676E95;">// \u81EA\u52A8\u5F00\u542F\u6D4F\u89C8\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">open</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#676E95;">// \u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">port</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8081</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#676E95;">// \u5F00\u542F\u70ED\u66F4\u65B0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">hot</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#676E95;">// \u5373\u4F7F HMR \u4E0D\u751F\u6548\uFF0C\u4E5F\u4E0D\u53BB\u5237\u65B0\u6574\u4E2A\u9875\u9762(\u9009\u62E9\u5F00\u542F)</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0</span><span style="color:#F07178;">hotOnly</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0    </span><span style="color:#F07178;">proxy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">/api</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0 \xA0    </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://localhost:8787</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u5F00\u542F <code>HMR</code> \u4EE5\u540E\uFF0C\u5F53\u4EE3\u7801\u53D1\u751F\u53D8\u5316\uFF0C<code>webpack</code> \u5373\u4F1A\u8FDB\u884C\u7F16\u8BD1\uFF0C\u5E76\u901A\u8FC7 <code>websocket</code> \u901A\u77E5\u5BA2\u6237\u7AEF(\u6D4F\u89C8\u5668)\uFF0C\u6211\u4EEC\u9700\u8981\u76D1\u542C\u5904\u7406\u6765\u81EA <code>webpack</code> \u7684\u901A\u77E5\uFF0C\u7136\u540E\u901A\u8FC7 <code>HMR</code> \u63D0\u4F9B\u7684 <code>API</code> \u6765\u5B8C\u6210\u6211\u4EEC\u7684\u5C40\u90E8\u66F4\u65B0\u903B\u8F91</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start1!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> fn1 </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./fn1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0box1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">onclick </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fn1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">module.</span><span style="color:#A6ACCD;">hot) </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;">//\u5982\u679C\u5F00\u542F HMR</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#89DDFF;">module.</span><span style="color:#A6ACCD;">hot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./fn1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#676E95;">// \u66F4\u65B0\u903B\u8F91</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#A6ACCD;">box1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">onclick</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4E0A\u9762\u4EE3\u7801\u5C31\u662F \u5F53 ./fn1.js \u6A21\u5757\u4EE3\u7801\u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u628A\u6700\u65B0\u7684 fn1 \u51FD\u6570\u7ED1\u5B9A\u5230 box1.onclick \u4E0A</p><p>\u4ECE\u4E0A\u9762\u5C31\u53EF\u4EE5\u770B\u5230\uFF0C<code>HMR</code> \u5176\u5B9E\u5C31\u662F\u4EE5\u6A21\u5757\u4E3A\u5355\u4F4D\uFF0C\u5F53\u6A21\u5757\u4EE3\u7801\u53D1\u751F\u4FEE\u6539\u7684\u65F6\u5019\uFF0C\u901A\u77E5\u5BA2\u6237\u7AEF\u8FDB\u884C\u5BF9\u5E94\u7684\u66F4\u65B0\uFF0C\u800C\u5BA2\u6237\u7AEF\u5219\u6839\u636E\u5177\u4F53\u7684\u6A21\u5757\u6765\u66F4\u65B0\u6211\u4EEC\u7684\u9875\u9762\u903B\u8F91(\u8FD9\u4E9B\u903B\u8F91\u9700\u8981\u81EA\u5DF1\u53BB\u5B9E\u73B0)\uFF0C\u597D\u5728\u5F53\u524D\u4E00\u4E9B\u5E38\u7528\u7684\u66F4\u65B0\u903B\u8F91\u90FD\u6709\u4E86\u73B0\u6210\u7684\u63D2\u4EF6</p><p><strong>css\u70ED\u66F4\u65B0</strong></p><p>\u6837\u5F0F\u70ED\u66F4\u65B0\u6BD4\u8F83\u7B80\u5355\uFF0C<code>style-loader</code> \u4E2D\u5C31\u5DF2\u7ECF\u96C6\u6210\u5B9E\u73B0\u4E86\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5728 <code>use</code> \u4E2D\u4F7F\u7528\u5C31\u53EF\u4EE5\u4E86</p><p><strong>react \u70ED\u66F4\u65B0</strong></p><ul><li><a href="https://github.com/gaearon/react-hot-loader" target="_blank" rel="noreferrer">https://github.com/gaearon/react-hot-loader</a></li><li>react \u811A\u624B\u67B6\u4E2D\u4E5F\u6709\u96C6\u6210</li></ul><p><strong>vue \u70ED\u66F4\u65B0</strong></p><ul><li><a href="https://github.com/vuejs/vue-loader" target="_blank" rel="noreferrer">https://github.com/vuejs/vue-loader</a></li><li>vue \u811A\u624B\u67B6\u4E2D\u4E5F\u6709\u96C6\u6210</li></ul><h2 id="_10\u3001sourcemap" tabindex="-1">10\u3001sourceMap <a class="header-anchor" href="#_10\u3001sourcemap" aria-hidden="true">#</a></h2><p>\u6211\u4EEC\u5B9E\u9645\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u7684\u4EE3\u7801\u662F\u901A\u8FC7 <code>webpack</code> \u6253\u5305\u5408\u5E76\u751A\u81F3\u662F\u538B\u7F29\u6DF7\u6DC6\u8FC7\u7684\u4EE3\u7801\uFF0C\u6240\u751F\u6210\u7684\u4EE3\u7801\u5E76\u4E0D\u5229\u4E8E\u6211\u4EEC\u7684\u8C03\u8BD5\u548C\u9519\u8BEF\u5B9A\u4F4D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>sourceMap</code> \u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C<code>sourceMap</code> \u672C\u8D28\u662F\u4E00\u4E2A\u8BB0\u5F55\u4E86\u7F16\u8BD1\u540E\u4EE3\u7801\u4E0E\u6E90\u4EE3\u7801\u7684\u6620\u5C04\u5173\u7CFB\u7684\u6587\u4EF6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>webpack</code> \u7684 <code>devtool</code> \u9009\u9879\u6765\u5F00\u542F <code>sourceMap</code></p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">source-map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u9664\u4E86 <code>source-map</code> \u8FD9\u79CD\u7C7B\u578B\u4E4B\u5916\uFF0C\u8FD8\u6709\u5F88\u591A\u79CD\u7C7B\u578B\u53EF\u4EE5\u7528\uFF0C\u4F8B\u5982\uFF1A</p><ul><li><code>eval</code></li><li><code>eval-source-map</code></li><li><code>cheap-source-map</code></li><li><code>inline-source-map</code></li><li><code>cheap-module-source-map</code></li><li><code>inline-cheap-source-map</code></li><li><code>cheap-module-eval-source-map</code></li><li><code>inline-cheap-module-source-map</code></li><li><code>hidden-source-map</code></li><li><code>nosources-source-map</code></li></ul><p>\u9996\u5148\uFF0C\u7F16\u8BD1\u540E\u4F1A\u4E3A\u6BCF\u4E00\u4E2A\u7F16\u8BD1\u6587\u4EF6\u751F\u6210\u4E00\u4E2A\u5BF9\u5E94\u7684 <code>.map</code> \u6587\u4EF6\uFF0C\u540C\u65F6\u5728\u7F16\u8BD1\u6587\u4EF6\u4E2D\u6DFB\u52A0\u4E00\u6BB5\u5BF9\u5E94\u7684 <code>map</code> \u6587\u4EF6\u5F15\u5165\u4EE3\u7801</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0//# sourceMappingURL=xx.js.map</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0...</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0/*# sourceMappingURL=xx.css.map*/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u540C\u65F6\uFF0C\u73B0\u4EE3\u6D4F\u89C8\u5668\u90FD\u80FD\u591F\u8BC6\u522B <code>sourceMap</code> \u6587\u4EF6\uFF0C\u5982 <code>chrome</code>\uFF0C\u4F1A\u5728 <code>Sources</code> \u9762\u677F\u4E2D\u663E\u793A\u6839\u636E\u7F16\u8BD1\u6587\u4EF6\u4E0E\u5BF9\u5E94\u7684 <code>map</code> \u6587\u4EF6\u5B9A\u4F4D\u5230\u6E90\u6587\u4EF6\u4E2D\uFF0C\u6709\u5229\u4E8E\u6211\u4EEC\u7684\u8C03\u8BD5\u548C\u9519\u8BEF\u5B9A\u4F4D</p><h3 id="\u914D\u7F6E\u9879\u5DEE\u5F02" tabindex="-1">\u914D\u7F6E\u9879\u5DEE\u5F02 <a class="header-anchor" href="#\u914D\u7F6E\u9879\u5DEE\u5F02" aria-hidden="true">#</a></h3><p>\u901A\u8FC7\u6253\u5305\u53D1\u73B0\uFF0C<code>eval</code>\u548C<code>inline</code>\u90FD\u662F\u6CA1\u6709\u5BF9\u5E94\u7684map\u6587\u4EF6\u7684\u3002</p><p>\u603B\u7ED3\u4E00\u4E0B\uFF1A</p><p><img src="https://cdn.jsdelivr.net/gh/Merlin218/image-storage/picGo/202204141759625.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/Merlin218/image-storage/picGo/202204141759902.png" alt=""></p><h4 id="\u63A8\u8350\u914D\u7F6E" tabindex="-1">\u63A8\u8350\u914D\u7F6E <a class="header-anchor" href="#\u63A8\u8350\u914D\u7F6E" aria-hidden="true">#</a></h4><ol><li>\u672C\u5730\u5F00\u53D1\uFF1A</li></ol><ul><li>\u63A8\u8350\uFF1A<code>eval-cheap-module-source-map</code></li><li>\u7406\u7531\uFF1A <ul><li>\u672C\u5730\u5F00\u53D1\u9996\u6B21\u6253\u5305\u6162\u70B9\u6CA1\u5173\u7CFB\uFF0C\u56E0\u4E3A <code>eval</code> \u7F13\u5B58\u7684\u539F\u56E0\uFF0Crebuild \u4F1A\u5F88\u5FEB</li><li>\u5F00\u53D1\u4E2D\uFF0C\u6211\u4EEC\u6BCF\u884C\u4EE3\u7801\u4E0D\u4F1A\u5199\u7684\u592A\u957F\uFF0C\u53EA\u9700\u8981\u5B9A\u4F4D\u5230\u884C\u5C31\u884C\uFF0C\u6240\u4EE5\u52A0\u4E0A <code>cheap</code></li><li>\u6211\u4EEC\u5E0C\u671B\u80FD\u591F\u627E\u5230\u6E90\u4EE3\u7801\u7684\u9519\u8BEF\uFF0C\u800C\u4E0D\u662F\u6253\u5305\u540E\u7684\uFF0C\u6240\u4EE5\u9700\u8981\u52A0\u4E0A <code>module</code></li></ul></li></ul><ol start="2"><li>\u751F\u4EA7\u73AF\u5883\uFF1A</li></ol><ul><li>\u63A8\u8350\uFF1A<code>(none)</code></li><li>\u7406\u7531\uFF1A <ul><li>\u5C31\u662F\u4E0D\u60F3\u522B\u4EBA\u770B\u5230\u6211\u7684\u6E90\u4EE3\u7801</li></ul></li></ul><h2 id="_11\u3001code-spliting" tabindex="-1">11\u3001Code Spliting <a class="header-anchor" href="#_11\u3001code-spliting" aria-hidden="true">#</a></h2><p>\u5C06\u4EE3\u7801\u5206\u5272\u5230\u591A\u4E2A\u4E0D\u540C\u7684bundle(\u6253\u5305\u540E)\u6587\u4EF6\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6309\u9700\u52A0\u8F7D\u7B49\u65B9\u5F0F\u5BF9\u8D44\u6E90\u8FDB\u884C\u52A0\u8F7D\uFF0C\u4F7F\u7528\u5408\u7406\u7684\u60C5\u51B5\u4E0B\u53EF\u4EE5\u6781\u5927\u5F71\u54CD\u52A0\u8F7D\u901F\u5EA6\u3002</p><h3 id="_11-1\u3001\u5165\u53E3\u8D77\u70B9" tabindex="-1">11-1\u3001\u5165\u53E3\u8D77\u70B9 <a class="header-anchor" href="#_11-1\u3001\u5165\u53E3\u8D77\u70B9" aria-hidden="true">#</a></h3><p>\u901A\u8FC7\u8BBE\u7F6E\u591A\u4E2A\u5165\u53E3\u6587\u4EF6\u7684\u65B9\u5F0F\u5B9E\u73B0\u6700\u7B80\u5355\u7684\u4EE3\u7801\u5206\u5272</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">index</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">list</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/list.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">path</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#676E95;">// \u591A\u5165\u53E3\u6587\u4EF6\u7684filename\u4E0D\u80FD\u5199\u6B7B\u540D\u79F0\uFF0C\u9700\u8981\u901A\u8FC7[name]\u914D\u7F6E</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">js/[name].js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_11-2\u3001\u9632\u6B62\u91CD\u590D" tabindex="-1">11-2\u3001\u9632\u6B62\u91CD\u590D <a class="header-anchor" href="#_11-2\u3001\u9632\u6B62\u91CD\u590D" aria-hidden="true">#</a></h3><p>\u901A\u8FC7\u8BBE\u7F6EdependOn\u914D\u7F6E\u591A\u4E2A\u6A21\u5757\u4E4B\u95F4\u7684\u5171\u4EAB</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">index</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">import</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">dependOn</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">list</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0    </span><span style="color:#FFCB6B;">import</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/list.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0    </span><span style="color:#FFCB6B;">dependOn</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">axios</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><blockquote><p>When you opt-in to code splitting, Webpack may duplicate modules between chunks depending on heuristics. If this happens, then you can end up with multiple instances of the same module, each with their own state that can easily get out of sync.However, you can set optimization.runtimeChunk to . This moves Webpack&#39;s runtime module loader into its own bundle rather than being inlined into each entry, creating a global registry that allows code-splitted modules to be shared between entries. This doesn&#39;t prevent Webpack from copying module code between entry points, but it prevents it creating two instances of the same module at runtime, while reducing the number of HTTP requests needed to load modules for a given page.&quot;single&quot;\u5F53\u4F60\u9009\u62E9\u4F7F\u7528\u4EE3\u7801\u5206\u5272\u65F6\uFF0Cwebpack\u53EF\u80FD\u4F1A\u53D7\u542F\u53D1\u5F0F\u7684\u5728\u591A\u4E2Achunk\u4E2D\u590D\u5236\u4F9D\u8D56\u6A21\u5757\u3002\u5982\u679C\u53D1\u751F\u4E86\u8FD9\u79CD\u4E8B\u60C5\uFF0C\u8FD9\u65F6\u60A8\u6709\u53EF\u80FD\u5F97\u5230\u76F8\u540C\u6A21\u5757\u7684\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u4ED6\u4EEC\u4E4B\u95F4\u7684\u72B6\u6001\u5C06\u4F1A\u5F88\u96BE\u4FDD\u8BC1\u540C\u6B65\u3002\u5F53\u7136\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E optimization.runtimeChunk\u4E3A\u201Csingle\u201D\u8FDB\u884C\u89E3\u51B3 \u3002\u8FD9\u4F1A\u5C06Webpack\u7684\u8FD0\u884C\u65F6\u6A21\u5757\u52A0\u8F7D\u7A0B\u5E8F\u79FB\u5230\u5B83\u81EA\u5DF1\u7684\u5305\u4E2D\uFF0C\u800C\u4E0D\u662F\u5185\u8054\u5230\u6BCF\u4E2A\u6761\u76EE\u4E2D\uFF0C\u4ECE\u800C\u521B\u5EFA\u4E00\u4E2A\u5168\u5C40\u6CE8\u518C\u8868\uFF0C\u5141\u8BB8\u5728\u6761\u76EE\u4E4B\u95F4\u5171\u4EAB\u4EE3\u7801\u5206\u5272\u7684\u6A21\u5757\u3002\u8FD9\u5E76\u4E0D\u80FD\u963B\u6B62Webpack\u5728\u5165\u53E3\u70B9\u4E4B\u95F4\u590D\u5236\u6A21\u5757\u4EE3\u7801\uFF0C\u4F46\u5B83\u53EF\u4EE5\u9632\u6B62Webpack\u5728\u8FD0\u884C\u65F6\u521B\u5EFA\u540C\u4E00\u6A21\u5757\u7684\u4E24\u4E2A\u5B9E\u4F8B\uFF0C\u540C\u65F6\u51CF\u5C11\u4E3A\u7ED9\u5B9A\u9875\u9762\u52A0\u8F7D\u6A21\u5757\u6240\u9700\u7684HTTP\u8BF7\u6C42\u6570\u3002runtimeChunk: &quot;single&quot;\u662F\u5BF9\u4E8E\u786E\u4FDD\u6A21\u5757\u5B9E\u4F8B\u5316\u6B63\u786E\u6240\u5FC5\u987B\u7684\uFF0C\u5B83\u9ED8\u8BA4\u662F\u7981\u7528\u72B6\u6001\uFF0C\u8FD9\u5728Webpack\u4EE3\u7801\u5206\u5272\u6307\u5357\u4E2D\u8BB0\u8F7D\u7740\u3002Although using multiple entry points per page is allowed in webpack, it should be avoided when possible in favor of an entry point with multiple imports: entry: { page: [&#39;./analytics&#39;, &#39;./app&#39;] }. This results in a better optimization and consistent execution order when using async script tags.\u5C3D\u7BA1\u6211\u4EEC\u53EF\u4EE5\u5728webpack\u4E2D\u5BF9\u6BCF\u4E2A\u9875\u9762\u914D\u7F6E\u591A\u5165\u53E3\uFF0C\u4F46\u6211\u4EEC\u5E94\u5F53\u907F\u514D\u50CFentry: { page: [&#39;./analytics&#39;, &#39;./app&#39;] }\u8FD9\u6837\u7684\u591A\u5165\u53E3\u4F7F\u7528\u591A\u5F15\u5165\u7684\u60C5\u51B5\u3002\u8FD9\u4F1A\u8BA9\u6211\u4EEC\u5728\u4F7F\u7528async\u5C5E\u6027\u7684script\u6807\u7B7E\u65F6\u83B7\u5F97\u66F4\u597D\u7684\u4F18\u5316\u4EE5\u53CA\u4FDD\u8BC1\u5176\u4E00\u81F4\u7684\u6267\u884C\u987A\u5E8F\u3002</p></blockquote><h3 id="_11-2-1\u3001splitchunksplugin" tabindex="-1"><strong>11 - 2 - 1\u3001SplitChunksPlugin</strong> <a class="header-anchor" href="#_11-2-1\u3001splitchunksplugin" aria-hidden="true">#</a></h3><p>\u5C06\u516C\u5171\u7684\u4F9D\u8D56\u6A21\u5757\u63D0\u53D6\u5230\u5DF2\u6709\u7684\u5165\u53E3chunk\u6587\u4EF6\u6216\u65B0\u7684chunk\u6587\u4EF6\u5F53\u4E2D</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">index</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">list</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/list.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">splitChunks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#676E95;">// async\u8868\u793A\u53EA\u4ECE\u5F02\u6B65\u52A0\u8F7D\u5F97\u6A21\u5757\uFF08\u52A8\u6001\u52A0\u8F7Dimport()\uFF09\u91CC\u9762\u8FDB\u884C\u62C6\u5206</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#676E95;">// initial\u8868\u793A\u53EA\u4ECE\u5165\u53E3\u6A21\u5757\u8FDB\u884C\u62C6\u5206</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#676E95;">// all\u8868\u793A\u4EE5\u4E0A\u4E24\u8005\u90FD\u5305\u62EC</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">chunks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#676E95;">// \u9ED8\u8BA4\u914D\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">splitChunks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">chunks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">async</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">minSize</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">20000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">minRemainingSize</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">minChunks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">maxAsyncRequests</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">maxInitialRequests</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">enforceSizeThreshold</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">cacheGroups</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">defaultVendors</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/[</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">]</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">]/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">priority</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0 \xA0</span><span style="color:#FFCB6B;">reuseExistingChunk</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0</span><span style="color:#89DDFF;">default</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0 \xA0minChunks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0 \xA0priority</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0 \xA0 \xA0reuseExistingChunk</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0 \xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">\xA0</span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><h3 id="_11-3\u3001\u52A8\u6001\u5BFC\u5165" tabindex="-1"><strong>11 - 3\u3001\u52A8\u6001\u5BFC\u5165</strong> <a class="header-anchor" href="#_11-3\u3001\u52A8\u6001\u5BFC\u5165" aria-hidden="true">#</a></h3><p>\u901A\u8FC7<code>import()</code>\u52A8\u6001\u5BFC\u5165\u6A21\u5757\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5185\u8054\u6CE8\u91CA\u5BF9chunk\u8FDB\u884C\u4E00\u4E9B\u914D\u7F6E</p><p><a href="https://webpack.docschina.org/api/module-methods/#magic-comments" target="_blank" rel="noreferrer">\u6A21\u5757\u65B9\u6CD5 | webpack \u4E2D\u6587\u6587\u6863 (docschina.org)</a></p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;">/* webpackChunkName: &#39;data&#39;, webpackPreload: true*/</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">\xA0  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="_12\u3001\u9884\u52A0\u8F7D-\u9884\u83B7\u53D6" tabindex="-1"><strong>12\u3001\u9884\u52A0\u8F7D/\u9884\u83B7\u53D6</strong> <a class="header-anchor" href="#_12\u3001\u9884\u52A0\u8F7D-\u9884\u83B7\u53D6" aria-hidden="true">#</a></h2><p>\u901A\u8FC7\u5185\u8054\u6CE8\u91CA<code>webpackPrefetch</code>\u548C<code>webpackPreload</code>\u4E24\u79CD\u8D44\u6E90\u63D0\u793A\u544A\u77E5\u6D4F\u89C8\u5668\u5BF9\u8D44\u6E90\u8FDB\u884C\u4E0D\u540C\u7684\u52A0\u8F7D\u5904\u7406</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;">/* webpackChunkName: &#39;data&#39;, webpackPreload: true */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./data.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;">/* webpackChunkName: &#39;data&#39;, webpackPrefetch: true */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./data.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u4E0E prefetch \u6307\u4EE4\u76F8\u6BD4\uFF0Cpreload \u6307\u4EE4\u6709\u8BB8\u591A\u4E0D\u540C\u4E4B\u5904\uFF1Apreload chunk \u4F1A\u5728\u7236 chunk \u52A0\u8F7D\u65F6\uFF0C\u4EE5\u5E76\u884C\u65B9\u5F0F\u5F00\u59CB\u52A0\u8F7D\u3002prefetch chunk \u4F1A\u5728\u7236 chunk \u52A0\u8F7D\u7ED3\u675F\u540E\u5F00\u59CB\u52A0\u8F7D\u3002preload chunk \u5177\u6709\u4E2D\u7B49\u4F18\u5148\u7EA7\uFF0C\u5E76\u7ACB\u5373\u4E0B\u8F7D\u3002prefetch chunk \u5728\u6D4F\u89C8\u5668\u95F2\u7F6E\u65F6\u4E0B\u8F7D\u3002preload chunk \u4F1A\u5728\u7236 chunk \u4E2D\u7ACB\u5373\u8BF7\u6C42\uFF0C\u7528\u4E8E\u5F53\u4E0B\u65F6\u523B\u3002prefetch chunk \u4F1A\u7528\u4E8E\u672A\u6765\u7684\u67D0\u4E2A\u65F6\u523B\u3002\u6D4F\u89C8\u5668\u652F\u6301\u7A0B\u5EA6\u4E0D\u540C\u3002</p></blockquote><h2 id="_13\u3001\u5916\u90E8\u6269\u5C55" tabindex="-1"><strong>13\u3001\u5916\u90E8\u6269\u5C55</strong> <a class="header-anchor" href="#_13\u3001\u5916\u90E8\u6269\u5C55" aria-hidden="true">#</a></h2><p>\u901A\u8FC7externals\u914D\u7F6E\u5728\u8F93\u51FA\u7684bundle\u4E2D\u6392\u9664\u67D0\u4E9B\u4F9D\u8D56\uFF0C\u8FD9\u4E9B\u4F9D\u8D56\u5C06\u4F1A\u5728\u7528\u6237\u73AF\u5883\u4E2D\u6240\u5305\u542B\u3002</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\xA0</span><span style="color:#FFCB6B;">externals</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \xA0</span><span style="color:#FFCB6B;">lodash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0}</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><h2 id="_14\u3001tree-shaking" tabindex="-1"><strong>14\u3001tree shaking</strong> <a class="header-anchor" href="#_14\u3001tree-shaking" aria-hidden="true">#</a></h2><p>\u5C06\u4E0A\u4E0B\u6587\u4E2D\u7684dead-code\u79FB\u9664\uFF0C\u5C31\u50CF\u6447\u6811\u4E0A\u7684\u67AF\u53F6\u4F7F\u5176\u6389\u843D\u4E00\u6837</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki"><code><span class="line"><span style="color:#FFCB6B;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">\xA0 \xA0</span><span style="color:#FFCB6B;">usedExports</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,224),e=[o];function c(t,r,D,y,F,i){return a(),n("div",null,e)}const A=s(p,[["render",c]]);export{d as __pageData,A as default};
